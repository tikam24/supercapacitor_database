Carbon-based materials with versatile structures and morphologies as the electrode have shown promising potential in the application of supercapacitors on account of their unique advantage of superior electrical conductivity, outstanding chemical stability and large surface area. Herein, a series of nitrogen-doped hierarchical porous carbon (NxPCy) with corn straw as the carbon source and NH4Cl as the nitrogen source are prepared by a hydrothermal pretreatment of the precursor, followed by the carbonization with activator of ZnCl2. By modulating the pore structure and element ratio, the N2PC5 electrode exhibits an optimal supercapacitor performance, including the specific capacitance of 321.5 F g−1 at 0.5 A g−1. In addition, the supercapacitor displays an impressive cyclic stability with capacitance retention ratio of 93% after 10,000 charge−discharge cycles. The primary results indicate that heteroatom-contained porous carbon can be obtained via a simple and effective preparation route, which is of great significance for developing low-cost and high-performance supercapacitors.