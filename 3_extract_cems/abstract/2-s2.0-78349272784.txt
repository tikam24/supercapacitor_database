In this paper, a new energy storage system (ESS) is developed for an innovative subway without supply rail between two stations. The ESS is composed of a supercapacitor bank and a braking resistor. An inversion-based control of the ESS is deduced from the Energetic Macroscopic Representation of the entire system. This control scheme requires a distribution criterion in order to allow the energy to be shared between the supercapacitors and the braking resistor. Different cases are evaluated via a Hardware-In-the-Loop simulation using a reduced-power ESS. The suggested control enables the energy recovery to be maximal and secure the supercapacitor in real time for different track configurations. Â© 2010 IEEE.