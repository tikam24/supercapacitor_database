Using super capacitor to store regenerative braking energy of train can achieve good energy efficiency and voltage regulation in urban rail transit. This paper analyzes characteristics of traction power supply systems, train, bidirectional DC/DC converter and the super capacitor, thereby establishing the model of super capacitor energy storage system. According to the established model, the influence of traction network voltage and duty cycle on dynamic performance of the system is discussed. Analyses show that the traction network voltage and duty cycle respectively affects the inner and outer dynamic performance of energy storage system. Then variable gain control strategy of inner loop and outer loop for energy storage system is proposed, eliminating the influence of the above two variables on dynamic performance of system. Finally, simulation and experimental results show the effectiveness of the proposed control strategy.