Aiming at the problems of the strong randomness and fluctuation of the output power in photovoltaic power generation system, a multi-time scale control framework of hybrid energy storage system is proposed. Firstly, the complementary characteristics of charge/discharge between lithium battery and supercapacitor is analyzed. Then, The models of lithium battery energy storage unit and supercapacitor energy storage unit are established, respectively. Considering the different time scales of the output power response of lithium battery and supercapacitor, a short-time scale control framework is designed for supercapacitor energy storage unit based on the robust control, so that the bus voltage of system can be stable when the output power of photovoltaic power generation system changes or the load changes rapidly. At the same time, a long-time scale control framework is designed for lithium battery energy storage unit based on the virtual impedance, so that the voltage of the supercapacitor can be maintained within set value when the output power of the photovoltaic power generation system is stable. Therefore, the multi-time scale control framework can not only realize the large current charging/discharging for lithium battery and the power tracking at low frequency, but also realize the small current charging/discharging for supercapacitor and the power tracking at high frequency. Finally, the effectiveness of the proposed framework is verified by the simulation platform of photovoltaic power generation system.