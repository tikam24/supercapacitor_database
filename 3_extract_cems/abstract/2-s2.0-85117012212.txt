The battery/supercapacitor hybrid energy storage system combines high power density with high energy density. According to the actual line conditions and running conditions of urban rail transit, a simulation model is established. By analyzing the distribution of the residual regenerative braking energy at different departure intervals and the influence of hybrid energy storage system power distribution strategy on the system, and considering the different characteristics of the battery and the supercapacitor, a dynamic proportional distribution strategy based on the train operating conditions was proposed. The control strategy is divided into charging mode and discharging mode. In the charging mode, the power distribution ratio is adjusted by discriminating the train operating conditions to reduce the use of the battery and improve the service life and energy saving effect of the device. In the discharge mode, the power distribution ratio is dynamically adjusted with the battery SOC to prevent overcharge and overdischarge of the battery. Finally, the simulation results of the 2MW hybrid energy storage system under the actual line parameters of Beijing subway are presented, and the effectiveness of the strategy is verified.