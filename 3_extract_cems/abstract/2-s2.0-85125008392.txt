In this work, nitrogen and fluorine co-doped porous carbon nanosheets (NFPCNS) were fabricated from pharmaceutical drug residues derived from the fermentation synthesis of lincomycin hydrochloride via high-temperature pyrolysis and subsequent KOH activation without adding any nitrogen and fluorine reagents. The obtained NFPCNS exhibits an optimized integration of three dimensional interconnected nanosheet structure, large specific surface area of 2912 m2 g−1, hierarchical porous structure with large mesopore proportion (Smeso/Smicro = 151.5%, Vmeso/Vmicro = 248.2%) and high level heteroatom content (13.2 at.% O, 4.3 at.% N and 1.0 at.% F). Therefore, NFPCNS based supercapacitors using 1-ethyl-3-methylimidazolium tetrafluoroborate electrolyte exhibit an excellent gravimetric capacitance of 296F g−1 at 1 A g−1, good rate capability of 65% at 20 A g−1 and high energy density of 125 Wh kg−1. Furthermore, an ultra-high energy density of 173 Wh kg−1 and a long cycling life with 93% capacitance retention after 2000 cycles has been achieved by NFPCNS based supercapacitors with 1-ethyl-3-methylimidazolium bis[(trifluoromethyl)sulfonyl]imide electrolyte. NFPCNS should be a green and efficient electrode materials for next-generation high-energy supercapacitors.