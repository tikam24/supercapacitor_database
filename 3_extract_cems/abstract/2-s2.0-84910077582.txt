This paper proposes an optimal control method based on double filters for PV-HES (Hybrid Energy Storage) power system with common DC bus. Firstly, the diagram of common DC bus based PV-HES power system is analyzed. And then, an optimal control method based on double filters is designed considering the power quality of PCC and characteristics of energy storage. The first filter can be adjusted adaptively according to the state of charge (SOC) of battery to level off the fluctuating power outputs of intermittent sources; the second filter, which is used to manage the distribution of load power between battery and supercapacitor, can be adjusted adaptively according to the SOC of supercapacitor. Finally, the real-time platform based on ABB Symphonyâ„¢ Plus and Opal-RTLAB is built and the experimental results show the effectiveness of proposed optimal control method.