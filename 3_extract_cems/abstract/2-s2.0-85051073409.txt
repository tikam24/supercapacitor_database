Heteroatom-doped carbon nanomaterials with high surface area and tunable microporosity are important but they generally require difficult and multistep syntheses. Herein, a simple and straightforward strategy is introduced that involves a wrap-bake-sublime approach to synthesize microporosity controlled and heteroatom codoped carbon nanocages. A zinc-containing zeolitic imidazolate framework (ZIF-8) core is wrapped in a cross-linked oligomer containing nitrogen and phosphorus, oligo(cyclotriphosphazene-co-hexahydroxytriphenylene) (OCHT). As-synthesized core–shell ZIF-8-OCHT nanoparticles are baked at high temperatures to sublimate zinc through OCHT shell, resulting in a porous structure. Meanwhile, hollow cavities are introduced into N,P codoped carbon nanocages (NPCNs) via the sacrificial nature of ZIF-8 template. The microporosity is finely tuned by controlling thickness of the OCHT shell during synthesis of the core–shell nanoparticles, since the sublimation tendency of zinc component at high temperatures depends on the thickness of OCHT shell. A systematic correlation between the electrochemical performance of NPCNs and their microporosity is confirmed. Furthermore, the electrochemical performance of the NPCNs is related to the degree of heteroatom codoping. The approach is successfully scaled-up without compromising their electrochemical performance. Finally, a symmetric and flexible all-solid-state-supercapacitor with high energy and power density, and a long-term cycleability is demonstrated (75% capacitance retention after 20 000 cycles).