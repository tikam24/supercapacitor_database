This paper focuses on the energy analysis of a rail vehicle in a real drive-cycle. The system includes a fuel cell, serving as the main engine, an energy storage system, composed of battery and supercapacitor, two DC/DC converters, both necessary for the connection with the electric motor, a regenerative brake, able to recover energy in deceleration, and a control system. This hybrid system is obtained through a deep study of the available solutions which include the use of one or more energy sources to the selected drive cycle. Afterwards, the system sizing was made in order to achieve the expected performance with the most appropriate power levels, without oversizing or undersizing the powertrain. The components were selected on the market after appropriate calculations according to the task that each energy source performs. After the identification of the components of the entire system, it is possible to perform an energy analysis. The fuel cell power is kept as constant as possible and it supplies the total energy demand; the battery provides the power variations at low frequencies while the supercapacitor provides those at high frequencies. The parameters analysed are: the current, the voltage and the power supplied from each energy source, the efficiency and the consumption of hydrogen for the fuel cell, the state of charge and the equivalent hydrogen consumption for the energy storage system.