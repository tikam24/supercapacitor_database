Abstract: Spherical carbonaceous materials are considered as ideal electrode materials for supercapacitors because of their high electrical conductivity and excellent electrochemical and mechanical stability. However, their overall performances are yet to be enhanced to meet the future demands. Herein, we prepared a supercapacitive carbon microsphere with hierarchical porous structure and doped them with both nitrogen and phosphor. This was achieved by a facile hydrothermal treatment of cyclodextrin, followed by pyrolysis in the presence of ammonium dihydrogen phosphate and finally by KOH activation. Benefiting from the porous microspheres structure, large surface area, and rich nitrogen and phosphorus heteroatoms, the as-prepared materials demonstrated excellent capacitive performance, with a specific capacitance of 182 F g−1 at 1.0 A g−1 and good rate performance as well as 100% retention after repeated charging and discharging for 5000 cycles, which are superior to the carbon microspheres without heteroatom doping. Graphic abstract: [Figure not available: see fulltext.]