In recent years, supercapacitors have attracted extensive attention due to their advantages such as fast charge and discharge rate, high power density and long cycle life. Because of its unique porous structure and excellent electrochemical properties, heteroatom-doped porous carbon (HPC) is deemed as a promising electrode material for supercapacitors. However, it is a great challenge to synthesize electrode materials with large surface area, ultra-high porosity and good electrochemical performance. In this work, two-dimensional conjugated microporous polymers (CMPs) containing ketones were synthesized by a simple one-step coupling reaction and used as carbon precursors. A series of samples (CMP-Ts) were prepared with the procedures of coupling reaction and carbonization. The optimized carbon material has high specific surface area (up to 2229.85 m2 g−1), porous structure, high specific capacitance (375 F g−1 at 0.5 A g−1), and good cycling stability (capacitance retention of 98.8% after 1000 cycles at 5 A g−1). Further, the supercapacitor has an energy density of 28.8 Wh kg−1 at a power density of 5000 W kg−1. This work lays a foundation for the preparation of carbon materials using microporous polymer as a precursor system, provides a new way of thinking, and demonstrates a great potential of high-performance supercapacitors.