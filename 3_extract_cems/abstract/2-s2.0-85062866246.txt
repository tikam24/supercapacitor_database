In recent years, urban rail systems have developed drastically. In these systems, when induction electrical machine suddenly brakes, a great package of energy is produced. This package of energy can be stored in energy storage devices such as battery, ultra-capacitor and flywheel. In this paper, an electrical topology is proposed to absorb regenerative braking energy and to store it in ultra-capacitor and battery. Ultra-capacitor can to deliver the stored energy to DC grid and to charge the battery for auxiliary applications such as lighting and cooling systems. The proposed system is modeled based on large signal averaged modeling, which leads to the simplicity of calculations. The control system is based on Lyapunov stability theorem which guarantees system stability. Also, an energy management algorithm is proposed to control energy under braking and steady-state conditions. Finally, the simulation results validate the effectiveness of the proposed control and energy management system.