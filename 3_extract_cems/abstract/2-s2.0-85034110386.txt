Coal-based activated carbons doped with either N or B or a combination of the two were prepared for use as the electrode materials of supercapacitors by ball milling and subsequent activation using Xinjiang non-caking coal, melamine and boric acid as the respective carbon, nitrogen and boron sources. FTIR spectroscopy and XPS reveal that the B and N atoms are substitutionally incorporated into the carbon skeleton. These doped activated carbons contain a large number of mesopores. Cyclic voltammetry, galvanostatic charge/discharge and electrochemical impedance spectroscopy show that N- and B-doped activated carbons have a superior capacitance and rate performance to the non-doped one. The B-N co-doped material has the highest specific capacitance of 176 F·g-1 at 0.5 A·g-1, which is attributed to a synergistic effect of B-N co-doping. The capacitance of the co-doped sample remains at 96% of the original value after 20 000 cycles.