In order to improve the simulation efficiency, this paper presents a kind of switch-averaged model for the energy storage system to analyze its stability. This energy storage system is applied in metro vehicles that use supercapacitors as the energy storage elements to provide desired management of the power flows. In order to achieve quick response, an effective and simple control method using state feedback is presented. The effectiveness of the proposed control method is verified by simulation, and the simulation efficiency of the switch-averaged model is proved by compared with the macro model. The modeling method and control method here can be compatible with other DC/DC converters.