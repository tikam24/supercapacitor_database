Porous carbon as an electrode material has attracted extensive attention in the field of energy storage. Herein, to promote the energy density of carbon-based materials, a class of in situ nitrogen-doped 3D carbon skeleton with hierarchical pores through the structural evolution of pyridine-incorporated porous covalent triazine-based framework (p-CTFs) is rationally designed and prepared. The controlled microscopic pore structure and nitrogen doping concentration can be achieved by varying the polymerization temperature. The experimental results show that p-CTF-800 has a large specific surface area (2795 m2 g−1), a rich nitrogen content (11.82%), and a broad pore size distribution (0.65–5 nm), and exhibited an excellent specific capacitance of 406 F g−1 in three-electrode system and 245.7 F g−1 in water-based symmetric supercapacitor. When using ionic liquid 1-ethyl-3-methylimidazolium tetraflfluoroborate as electrolyte, the energy density can reach 77 Wh kg−1 at a power density of 175 W kg−1, and still remain at 56.4 Wh kg−1 even at a power density up to 8749 W kg−1. Moreover, p-CTF-800-supercapacitor presents excellent cyclic stability (94% energy retention after 20 000 cycles for IL electrolytes) under current density of 4 A g−1. These results indicate that as-prepared p-CTFs can behave as excellent electrode candidate materials for the future high-performance energy storage devices.