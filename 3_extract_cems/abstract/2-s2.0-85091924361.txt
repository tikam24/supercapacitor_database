The introduction of faradaic-active heteroatoms into the lattice of porous carbon materials with open accessibility could enhance the capacitance of a supercapacitor by providing extra pseudocapacity. Herein, a new strategy based on phenol-keto tautomerism and amination polymerization/dehydrocarbonation was developed for the construction of porous N,O-doped carbon nanosheets. By a facile two-step method of impregnation and carbonization, m-trihydroxybenzene and piperazine were polymerized and then carbonized on the surface of MgO hard template. After the removal of hard template, the resulting N,O-doped carbon nanosheets were used as electrode materials for supercapacitors. The derived THB-PP-MgO-750 material has nanosheet morphology, amorphous nature, rich defects, as well as large surface area of 811 m2/g and pore volume of 0.90 cm3/g. With high content of N (8.5 atom%) and O (19.3 atom%), THB-PP-MgO-750 displays superior performances including high capacity of 335 F/g at 1.0 A/g (maintaining 197 F/g at 20 A/g), high energy density of 45.6 Wh/kg at power density of 549.8 W/kg, and long cycling stability with 99% capacitance retention after 10 000 charge/discharge cycles at 6.0 A/g, displaying huge application potential. The method is facile and versatile, thus providing an alternative approach for batch synthesis of N,O-doped carbonaceous electrode materials for energy storage.