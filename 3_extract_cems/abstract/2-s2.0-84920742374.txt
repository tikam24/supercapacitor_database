In this work, nitrogen-containing nanoporous carbon with spherical network structure have been prepared using a template carbonization method, in which diphenylguanidine serves as carbon precursor, commercially available CaCO3 as template, and azodicarbonamide as nitridation agent. All the obtained carbon materials exhibit the amorphous features with low graphitization degree. Besides, the nanoporous carbon materials show nanoscale spherical structures, probably due to the spherical structure of the CaCO3. The Carbon-DC sample exhibit a specific surface area of 652.3 m2 g-1, and a specific capacitance of 176.2 F g-1 at a current density of 1 A g-1. Furthermore, the addition of azodicarbonamide which provide both carbon and nitrogen source can effectively tailor the properties of nanoporous carbon. The obtained Carbon-DCA sample contains as high as 12.45 at% of nitrogen has a specific surface areas of 1022.6 m2 g-1. As a result of the nitrogen content increased, the electrochemical performance is also significantly improved, with high specific capacitance (220 F g-1 in 6 M KOH, 263 F g-1 in 1 M H2SO4) and excellent cycling stability after 5000 charge/discharge cycles. This template method provides a simple and inexpensive route to achieve nanoporous carbon for supercapacitor.