With the fast development of energy storage technology, more applications of Energy Storage Devices (ESDs) have been found in rail transportation in recent years. This paper aims to address the optimal sizing problem of on-board Hybrid Energy Storage Devices (HESDs) which are installed to assist train traction and recover the regenerative braking energy. On-board HESDs combining Li-ion battery and supercapacitor can further enhance the capacity and instant power rating. In this paper, a mixed integer linear programming (MILP) model is proposed to minimize the economic cost in terms of energy consumption and installation, and the degradation cost of on-board HESDs considering the long-term train operation constrained by the initial investment of on-board HESDs. Train operation is found to be highly related to characteristics of on-board HESDs including the maximum power, capacity, and state of health (SOH). By changing the investment ratio between Li-ion battery and supercapacitor, the energy-saving rate and economic cost for various investment ratios have been obtained. Compared with the results of train optimal control with Li-ion battery only, supercapacitor only and no on-board HESDs, the results indicate an energy-saving rate up to 25.59%, from the perspective of the long-term train operation. When the allowable capital cost is relaxed from 20 k '\' ' to 60 k '\' ' , the cost per kilometer is reduced from 0.55 USD/km to 0.53 USD/km, showing higher capital cost is closely linked to higher cost reduction in the long-term train operation.