Yarn-shaped supercapacitors (SCs) functionalized with pseudocapacitive materials show promise in wearable electronics. However, their development was hindered by poor electrochemical properties, especially long-term cycling stability, owing to the volumetric change during charging/discharging. Herein, we report a ship-in-a-bottle architecture on carbon nanotube yarn (CNTY) based SCs, in which transition metal hydroxide (TMH) nanoparticles (Ni(OH)2 or Co(OH)2) are confined in conducting nanoporous metal-organic frameworks (MOFs, Ni3(HITP)2) which anchor onto CNTY, involves the synergy of nanoconfinement and hydrogen bonding (H-bonding) network to mutually support each phase toward improved electrochemical performance. The Ni(OH)2@Ni3(HITP)2@CNTY electrode possesses an areal specific capacitance of 496 mF cm−2 at 0.4 mA cm−2 due to the hierarchical structure which led to facilitated charge transport and enhanced ion storage. Moreover, the ternary CNTY-based SCs demonstrate exceptional cycle performance (90.9-92.3% capacitance retention after 10 000 cycles at 5 mA cm−2). Importantly, the nanoconfinement is confirmed by field emission scanning electron microscopy, transmission electron microscopy-energy dispersive spectroscopy, and energy dispersive spectroscopy, and Brunauer-Emmett-Teller and cryogenic-TEM characterization studies. The H-bonding (O⋯H-N) network between Ni(OH)2 and Ni3(HITP)2 is confirmed by Fourier transform infrared spectroscopy and density functional theory calculations. Both nanoconfinement and the H-bonding network contribute to an ultra-stable Ni(OH)2@Ni3(HITP)2 structure due to its high durability to volumetric change caused by phase separation and structural collapse during charging/discharging.