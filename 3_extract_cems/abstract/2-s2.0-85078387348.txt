Battery-type materials are promising candidates for achieving high specific capacity for supercapacitors. However, their slow reaction kinetics hinders the improvement in electrochemical performance. Herein, a hybrid structure of P-doped Co3O4 (P-Co3O4) ultrafine nanoparticles in situ encapsulated into P, N co-doped carbon (P, N-C) nanowires by a pyrolysis–oxidation–phosphorization of 1D metal–organic frameworks derived from Co-layered double hydroxide as self-template and reactant is reported. This hybrid structure prevents active material agglomeration and maintains a 1D oriented arrangement, which exhibits a large accessible surface area and hierarchically porous feature, enabling sufficient permeation and transfer of electrolyte ions. Theoretical calculations demonstrate that the P dopants in P-Co3O4@P, N-C could reduce the adsorption energy of OH− and regulate the electrical properties. Accordingly, the P-Co3O4@P, N-C delivers a high specific capacity of 669 mC cm−2 at 1 mA cm−2 and an ultralong cycle life with only 4.8% loss over 5000 cycles at 30 mA cm−2. During the fabrication of P-Co3O4@P, N-C, Co@P, N-C is simultaneously developed, which can be integrated with P-Co3O4@P, N-C for the assembly of asymmetric supercapacitors. These devices achieve a high energy density of 47.6 W h kg−1 at 750 W kg−1 and impressive flexibility, exhibiting a great potential in practical applications.