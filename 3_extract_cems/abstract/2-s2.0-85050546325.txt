Frozen tofu, as a carbon and nitrogen source, is converted to N (0.6-6.7 at%) and O (3.6-9.5 at%) co-doped porous carbon with a specific surface area of up to 3134 m2 g-1 by one-step carbonization-activation. This hierarchical carbon consists of a high volume of mesopores (1.11 cm3 g-1) and micropores (0.71 cm3 g-1) with a typical pore size distribution between 0.8 and 4 nm. Supercapacitors with the obtained carbon as electrodes exhibit a specific capacitance of 243 F g-1 (measured at 0.1 A g-1) in 1 M sulfuric acid (H2SO4) aqueous electrolyte with a capacitance retention of 93% after 10 000 cycles at 10 A g-1. The carbon also exhibits a specific capacitance of 170 F g-1 (measured at 1 A g-1) with a good rate capability (135 F g-1 at 20 A g-1) in 1-butyl-3-methylimidazolium tetrafluoroborate (BMIMBF4) ionic liquid electrolyte, providing an energy density of 72 W h kg-1 (at an average power density of 889 W kg-1). A supercapacitor fabricated from the carbon in the ionic liquid electrolyte can readily power 25 light-emitting diodes in parallel for more than 2 min after being charged for 25 s at a current density of 10 A g-1. In addition, as an anode for Li-ion batteries, the porous carbon exhibits a high reversible charge capacity of 2120 mA h g-1 in the first cycle (measured at 0.1 A g-1) or 1035 mA h g-1 after 300 cycles (measured at 1 A g-1).