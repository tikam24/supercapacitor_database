Filter-based battery-supercapacitor hybrid energy storage systems (HESSs) are popular as a way of extending battery lifetime by diverging the high-frequency power variations to the supercapacitor. However, when a traditional supercapacitor voltage controller (SCVC) is employed in the filter-based HESS, precise sizing of the supercapacitor as well as finding filter parameters for the power allocation are challenging due to nonlinearities. These problems can be circumvented by using a supercapacitor energy controller (SCEC) proposed in this paper. The paper presents a method for selection of the SCEC and filter parameters as well as precise sizing of the supercapacitor for a given application. The proposed method is experimentally verified on a single-phase grid-connected HESS used to smooth the power delivered to the grid at the point of common coupling. It is also shown that the size of the supercapacitor when using the SCEC is significantly lower than the one estimated for the traditional SCVC.