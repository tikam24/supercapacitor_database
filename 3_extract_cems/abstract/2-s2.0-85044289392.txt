Dual-functional templated methodology was developed for synthesis of hierarchical porous carbons via direct thermal decomposition of agricultural wastes, in which dairy manure acted as low cost carbon precursor and eggshell as both hard template and activating agent source of CO2. The dual-functional template can be easily removed by diluted HCl instead of corrosive HF. Carbonization temperature and dosage of eggshell have great influence on the porous texture of the carbon materials. Optimized temperature of 800 oC and mass ratio of eggshell/dairy manure (2:1) facilitate the releasing of CO2 from eggshell thus benefitting the formation of hierarchical porous carbon. The porous carbon has maximum surface area of 543.6 m2/g and total pore volume of 0.48 cm3/g of which micropores account for 40%. As the electrode of supercapacitor, the obtained hierarchical porous carbons showed a relative high specific capacitance of 226.6 F/g in KOH aqueous electrolyte (6 mol/L). Besides, it exhibited outstanding cycling stability with almost 100% of specific capacitance retention after 2500 GCD cycles. The one-step template carbonization method provides a facile and sustainable route to prepare hierarchical porous carbons from the agricultural wastes.