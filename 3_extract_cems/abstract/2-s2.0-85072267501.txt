Introduction of hierarchical porous structure and heteroatom in porous carbons are always effective approaches to improve the capacitive performance for supercapacitor. However, it is still a challenge to achieve the desired structure characteristics by a convenient one-step synthesis. Herein, C16mimPF6, an ionic liquid, was introduced in the self-assembly process of poly-benzoxazine to obtain a unique skin-tissue-bone structured hierarchical porous carbon with homogeneous N, P co-doping after carbonization. As the key component, C16mimPF6 works not only as a structure-directing agent to form a hierarchical structure through microphase separation mechanism, thereby promoting the transfer of ion and electron, but also as a heteroatom precursor to contribute an additional pseudocapacitance by doping phosphorus atoms on carbon matrix. The obtained porous carbon displays a high gravimetric capacitance (Cg) of 209 F g−1 (especially in the carbons prepared without corrosive activation step), a good volumetric capacitance (Cv) of 132 F cm−3 and an excellent area-normalized capacitance (Ca) of 35 μF cm−2. Overall, this work opens a new way to design the polymer-derived carbons with easy heteroatoms doping and hierarchical porous structure.