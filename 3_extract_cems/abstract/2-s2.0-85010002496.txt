A dc microgrid with photovoltaic(PV) generaton and hybrid energy storage is proposed in this paper. The hybrid energy storage system, which is composed of lithium ion battery and supercapacitor, combines the advantages of both. A control strategy is proposed to ensure the coordination among the sources, loads and hybrid storage system in the dc microgrid. Four operation modes of the dc microgrid are concluded based on the power flow among the different modules. In order to ensure the smooth transition among the four operation modes, control methods of the converters in different modules are analyzed. Therefore the system stability is improved with the coordination control among the modules. The simulation results show that proposed control strategy could effectively maintain stable bus voltage, mitigate power fluctuation and realize the smooth transition among different operation modes.