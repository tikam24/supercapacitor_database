A novel grafting-template method is proposed to prepare three-dimensional hierarchical porous carbons (MGSExKy) simultaneously possessing high surface area (~3000 m2 g−1) and electrical conductivity (~1200 S m−1). The ethylenediamine is chemically grafted into calcium lignosulfonate precursor with the presence of KOH under hydrothermal condition, subsequently being removed to generate abundant nanopores in MGSExKy. Meanwhile, increased C/O atom ratio and graphitization degree are achieved. The mesopore/micropore volume ratio of MGSExKy can be regulated by varying the dosages of ethylenediamine and KOH. Consequently, MGSE1K0.5 yields a large specific capacitance of 250 F g−1 at 0.25 A g−1 and excellent rate capability (198 F g−1 at 50 A g−1) in a two-electrode system using 3 M KOH as electrolyte. The symmetric supercapacitor based on MGSE1K0.5 electrodes delivers high energy densities of 48.3 W h kg−1 and 28.7 W h kg−1 at the power densities of 395.0 W kg−1 and 10.3 kW kg−1 in 1 M (C2H5)4NBF4/PC electrolyte, respectively. More importantly, a remarkable energy density of 101.4 W h kg−1 at 457.3 W kg−1 can be harvested for the symmetric supercapacitor based on MGSE1K0.5 electrodes in ion liquid electrolyte, retaining an impressive value of 38.4 W h kg−1 at an ultrahigh power density of 14.9 kW kg−1.