One of the main crises that the world will face is the over pollution of the environment due to the use of fossil fuels. This problem will be solved by replacing renewable energy sources (RESs). DC microgrids (DCMGs) provide the ability to exploit all the potential of RESs. But, high penetration of these sources reduces the inertia and damping of the DCMGs. Therefore, it makes DCMG vulnerable to fluctuations and disturbances. This challenge can be addressed by using distributed energy storage systems (DESS) in DCMGs and inertial simulations. To improve the inertia as well as to balance the charge/discharge of the DESS, the concept of a virtual supercapacitor based on the state of charge (SOC) is introduced. Under the proposed control strategy, DCMG inertia is provided and the SOC balance is maintained in charge and discharge mode. Due to the bidirectional power transmission capability, symmetrical structure and considering the protection purposes of dual half-bridge converter (DHB) can be selected. A small signal has also been investigated to analyse the role of virtual inertia in stability. The simulation results in MATLAB/Simulink show the correct performance dynamics and high impact of the proposed scheme compared to conventional schemes.