A hybrid composed of sulfur self-doped 3D hierarchical porous carbon (S-3DHPC) with a high defect density area and a high specific surface is prepared through direct carbonization of coal and activators without any additional template. The synthesized S-3DHPC is directly used as an electrode for supercapacitors and potassium ion batteries. The large surface area of the three-dimensional carbon network allowed full contact of the electrolyte with the electrode interface, and the transport path of the electrolyte ions and K+ is shorter. In addition, S-type doping in hierarchical porous carbon improves the electronic conductivity and provides superior electrochemical performance. The S-3DHPC electrode with 431.7 F g−1 at 1 A g−1 in a 3 M KOH electrolyte demonstrates an adequate rate performance and cycle stability. In particular, the assembled S-3DHPC-based flexible symmetric supercapacitor exhibits a high energy density of 17.8 Wh kg−1 at a power density of 652 W kg−1. Furthermore, S-3DHPC as the anode for K-ion batteries exhibits a high reversible capacity of 212.9 mAh g−1 at 50 mA g−1, an excellent rate capability, and outstanding cycling performance. Therefore, S-3DHPC has broad application prospects as a high-performance energy storage electrode material.