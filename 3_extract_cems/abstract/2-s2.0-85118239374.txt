The size of the nanopores in which the solvated ions in water-based electrolytes of electric double-layer capacitors (EDLCs) can be desolvated and the reasons for desolvation should be further studied. In this study, we calculate the stable structures of Li++nH2O (n = 1, 2, 3, 4) and Na++nH2O in nitrogen-doped bilayer graphene with different interlayer spacing (BGN-x, x = 4, 5, 6, 7, 8 Å) using first-principles calculations to simulate the desolvation behavior for Li++nH2O and Na++nH2O in nanopores of nitrogen-doped carbon electrode materials. The calculation results show that the number of H2O bound to Li+ in the BGN-x is related to the size of the interlayer spacing. The increase or decrease in the number of H2O changes the solvated structure of Li+, and the change of OH-π interaction makes the solvated structure unstable, so desolvation will occur in micropores with different sizes. When the interlayer spacing decreases (about 5 Å), that is, the nanopore size becomes smaller, the equilibrium between the Li+ or H atom of H2O and the large π bond (Li+-π, OH-π) in graphene is broken, and the interaction of Li+-π is stronger than OH-π so that Li++nH2O gradually removes H2O and occurs desolvation. After desolvation, the maximum relative capacitance can reach more than twice that of the mesopores and macropores. The value of relative capacitance has a great relationship with the number of H2O bound to Li+ and the size of interlayer spacing. The energy decomposition analysis indicates that the interactions of Li+-π and OH-π play a key role in the stability of the BGN-x@Li++nH2O structures during the optimization process. For Na++nH2O, the reduced interlayer spacing (approximately 4.5 Å) makes it desolvate. Compared with the case without nitrogen doping, the size of desolvation for Na++nH2O decreases. The relative capacitance changes little after desolvation, which indicates that the change of the solvated structures of Na++nH2O has little effect on the capacitance. The results explain the relationship among desolvation of solvated ions, stability of the structures, and capacitance, which is helpful to accurately match the electrolyte and electrode materials, and provide a theoretical explanation for the increase of capacitance in the nanopores of EDLCs.