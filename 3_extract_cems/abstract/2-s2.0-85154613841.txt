Cistanches herba residues are successfully employed as starting materials to prepare porous carbon through pre-carbonization and KOH activation method. The effects of pre-carbonization, KOH activation, and pre-carbonization temperature are investigated. The optimal structure of as-prepared carbon has abundant micropores, high specific surface area (2767.2 m2 g−1), good affinity for electrolyte, and high content of self-doped O (29.09%) and N (1.37%). The supercapacitors constructed with the as-prepared carbon materials are able to exhibit good specific capacitance of 360.26 F g−1 at 1.0 A g–1 and 191.3 F g−1 at 100 A g–1 in 6.0 mol L−1 KOH electrolyte. Moreover, the as-prepared carbon-based supercapacitors also display good energy density of 21.72 Wh kg−1 (at 250 W kg −1) and achieve 100% specific capacitance retention after 13,000 cycles at 10 A g−1 in 1.0 mol L−1 H2SO4 electrolyte. Overall, this research presents a new avenue for high-value utilization of traditional Chinese medicine residues.