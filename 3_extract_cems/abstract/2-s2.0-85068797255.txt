Nitrogen-doping can increase the charge density and the wettability of electrode materials, to further reinforce the electrochemical performances of energy storage devices. It is difficult to directly convert small molecular nitrogen-containing organics into N-doped porous carbon materials. Here we demonstrate a bottom-up strategy to prepare N-doped porous carbons by sodium metal-assisted carbonization of pyrrole. Pyrrole is not only a nitrogen source, but also a carbon source. In the process of pyrolysis, sodium assists the formation of the thermally stable polymer structures and catalyzes the graphitization of carbonaceous structures. As the pyrolysis temperature increases, the microstructures of porous carbons become more ordered and the pore structures of porous carbons change from the micropore-dominated structures to the mesopore-dominated structures. The material obtained at 800 °C with the nitrogen content of circa 3.3 wt% displays high-rate performances and long lifetime, when used as the supercapacitor electrodes. The device delivers 14.4 W h kg−1 (8.7 W h L−1) at a high power density of 40.5 kW kg−1 (24.5 kW L−1) and 20.9 W h kg−1 (12.6 W h L−1) at a power density of 13.5 kW kg−1 (8.2 kW L−1). Simultaneously, the technique provides a new idea for the preparation of other heteroatoms-doped porous carbons.