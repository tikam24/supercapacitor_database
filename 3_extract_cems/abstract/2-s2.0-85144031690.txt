The electric vehicles are considered one of the most fast-growing industries. The efficiency of an electrical car exceeds the efficiency of internal combustion engines but there is always space for more improvements. There are many reasons for that: pollution, oil price, greenhouse effect, etc. Besides the electrical motor we need to think about how to optimize the energy storage system. The last innovations in energy storage systems are motivating the electrical car manufacturers to push even more the autonomy of the electrical vehicle. The battery is the most expensive part of the electric vehicle and has also a limited lifetime. To increase the lifespan of the battery a good solution is to use an energy buffer named supercapacitor. In this paper extensive hardware in the loop testing (HiL) simulations are validated for an urban utility electric vehicle (EV) supplied from supercapacitors. We are using Typhoon HiL software, and the model contains the electrical machine, the mechanical assemblies, the supercapacitors model with its buck-boost converter. The EV is using a permanent magnet synchronous machine (PMSM). During this study we are focused in optimizing the equivalent circuit parameters of the supercapacitor. The parameters are optimize using MATLAB algorithms and furthermore compared with the real testing results.