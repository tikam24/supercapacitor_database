Carbon-based supercapacitors have been widely used in electric vehicles because of their high-power density, long cycle life and fast charge/discharge rates. However, low volumetric energy density severely limits their application for miniaturized electronic devices. Here, we have demonstrated a carbon-based symmetric supercapacitor by using a three-dimensional porous graphene with high density as the electrode material and a 17 M NaClO4 water-in-salt electrolyte with a 2.1 V electrochemical stability window. The device exhibited high specific capacitance (145.3 F cm−3 at 0.5 A g−1), excellent rate performance (70.0 % capacitance retention even at 50 A g−1), high volumetric energy density (22.3 Wh L−1 at 333.4 W L−1 based on the total mass of active materials) and excellent cycle stability with 99.1 % capacitance retention after 10,000 cycles at 5 A g−1. The performance of this device was superior to the most current supercapacitors based on carbon materials. This effective dual-strategy of simultaneously regulating capacitance and potential window can greatly promote the further development of aqueous carbon-based supercapacitors.