The recent railway system is a huge microgrid assembling multiplex structure with distributed active loads, sources and storage devices. The active load represents the train. The sources are a microgrid based on renewable energies. The big problem of the most of electrical train is that they can't recover energy recovery during regenerative breaking phases. another problem of the electrical train is the long charging time from the stations. This paper suggests a techno-economic process for the energy storage by using SCs in the train, with the aim to reduce the energy consumptions. The proposed design of railway station use PV and wind sources, and batteries for energy storage system (ESS). For the train, SCs are implemented to the ESS where they are alimented breaking phases and from stations by a pantograph installed in an air power line in each stop. SCs are distinguished by high characteristics power and a wide number of charge/discharge cycles, they provide low particular energy and a fast charging time. An energy management approach is suggested to control the DC bus by voltage and the buck-boost converter by current. The Sizing of PI controller used for the stabilization of the DC bus of train and station is given. The whole system is modeled in MATLAB-Simulink. Simulations for the train and station show the suitability of the suggested powertrain and control strategy.