Pore size and distribution in carbon-based materials are regarded to be a key factor to affect the electrochemical capacitive performances of the resultant electrodes. In this study, nitrogen and oxygen codoped porous carbons (NOPCs) are fabricated based on a simple Schiff-base reaction between m-phenylenediamine and terephthalaldehyde. The NOPCs have tunable morphologies, high surface areas, abundant heteroatom doping. More importantly, the carbons show a dominant micropores of 0.5–0.8 nm, comparable to the ionic sizes of LiTFSI (Li+ 0.069 nm; TFSI– 0.79 nm) water-in-salt electrolyte with a high potential window of 2.2 V. Consequently, the fabricated symmetric supercapacitor gives a high energy output of 30.5 Wh/kg at 1 kW/kg, and high stability after successive 10,000 cycles with ∼96.8% retention. This study provides promising potential to develop high-energy supercapacitors.