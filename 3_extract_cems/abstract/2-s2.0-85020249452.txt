Coupling of a Long Term System (LTS) with a Short Term System (STS) of a hydrogen-based microgrid is considered here in this work to control the operation of a set of electrolyzers that produce hydrogen from renewable energies. Both systems are based on Model Predictive Control (MPC) ideas. The LTS manages the on/off conditions of the electrolyzers taking into account control and prediction horizons in terms of hours (high level control), regulating the operation point of the devices using meteorological predictions. The STS adapts in a low-level control the behavior of the electrolyzers with the rest of the components of the microgrid (battery and ultracapacitor). The plant is modeled in the Mixed Logic Dynamic (MLD) framework due to the presence of logical states such as the start-up/shut down of the electrolyzers and charge/discharge states in the battery and ultracapacitor. These systems are validated in a simulation showing the adequate operation of the components of the microgrid.