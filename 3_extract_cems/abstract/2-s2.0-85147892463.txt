The slow dynamic response of a proton exchange membrane fuel cell (PEMFC) to high load change during deficit periods must be considered. Therefore, integrating the hybrid system with energy storage devices like battery storage and/or a supercapacitor is necessary. To reduce the consumed hydrogen, an energy management strategy (EMS) based on the white shark optimizer (WSO) for photovoltaic/PEMFC/lithium-ion batteries/supercapacitors microgrid has been developed. The EMSs distribute the load demand among the photovoltaic, PEMFC, lithium-ion batteries, and supercapacitors. The design of EMSs must be such that it minimizes the use of hydrogen while simultaneously ensuring that each energy source performs inside its own parameters. The recommended EMS-based-WSO was evaluated in regard to other EMSs regarding hydrogen fuel consumption and effectiveness. The considered EMSs are state machine control strategy (SMCS), classical external energy maximization strategy (EEMS), and optimized EEMS-based particle swarm optimization (PSO). Thanks to the proposed EEMS-based WSO, hydrogen utilization has been reduced by 34.17%, 29.47%, and 2.1%, respectively, compared with SMCS, EEMS, and PSO. In addition, the efficiency increased by 6.05%, 9.5%, and 0.33%, respectively, compared with SMCS, EEMS, and PSO.