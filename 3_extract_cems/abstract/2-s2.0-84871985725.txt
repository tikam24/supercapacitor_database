This paper proposes near optimal (to a desired degree) deterministic charge/discharge policies for the maximization of profit in a grid-connected storage system. The changing price of electricity is assumed to be known. We give algorithms for the approximate solution using dynamic programming. We prove that a bang off bang (BOB) type policy is optimal if the storage device is a supercapacitor. The advantages of using a battery model that takes into account the diffusion of charges are discussed and both simulation and experimental results are shown. Â© 2012 IEEE.