This paper proposes a Model Predictive Control (MPC) strategy for energy resources management in a microgrid. A state-space discrete-time linear model is presented, characterized by an hybrid storage system, consisting of lithium ion battery banks and ultracapacitors. The renewable resource is composed by an array of solar panels and the microgrid is considered to be connected to the main electricity grid, having the possibility to interact with it, under certain restrictions. Simulation results are presented under different generation and consumption scenarios.