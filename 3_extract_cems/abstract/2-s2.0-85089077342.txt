Hierarchical structural carbon with properly modulated compositions and porosity is essential for energy storage capacity. Here, N-doped porous carbon was synthesized using abundant rice straw under the sequential hydrothermal treatment and calcination by KHCO3 in the presence of melamine. The activation with KHCO3 resulted in about a 50% increase in the yields of porous carbons and performance comparable to that of KOH. The extra additional melamine not only introduces the N-containing functional groups but also enhances the mesoporosity and specific surface area (2786.5 m2 g-1). Meanwhile, wettability and conductivity are improved. The obtained N-doped porous carbon exhibits outstanding capacitance of 317 F g-1 at 1 A g-1. The fabricated symmetric supercapacitor displays a stable cycling performance (99.4% retention after 5000 cycles), a reasonable rate performance, and the maximum specific energy of 18.4 W h kg-1. Our research provides a promising method for effectively converting biowaste into energy storage materials through green synthetic strategy.