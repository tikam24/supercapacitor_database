The energy system is a major factor influencing the design process of a satellite. Improvements of the energy system may reflect in a reduction of mass and costs. DLRbat is a project of the German Aerospace Center investigating energy storages in order to improve the energy system. One main goal of the project is to develop a methodology to design mission specific batteries. As battery durability is one critical factor for space applications, the design of a battery management system is necessary. Furthermore, the usage of additional supercapacitors is incorporated into the design. Within the scope of this project is also the development of an intelligent energy management algorithm. A typical viable satellite configuration for an energy management consists of multiple variable power sources and electric loads. While solar panels act as a viable power source during the time the satellite is not in eclipse, energy storages such as batteries and supercapacitors may act as source as well as loads. Other electric loads such as heaters can be controlled to obtain an optimal power efficiency. In this paper, all of these mentioned components are incorporated into an energy management design, to allow an optimal usage of each individual component. To do so, the Modelica modelling language is used to describe the full satellite dynamics. The energy system is described by various power generators, converters and electric loads. As the power efficiency and durability of a electric component varies with temperature, a thermal system is modelled to monitor the temperatures of each individual component. The energy management optimises the battery durability and reduction of peak loads by exploiting the properties of the different power sources and the thermal inertia. Simulations are carried out to verify the proposed design. The simulation of the complete satellite system incorporating the electrical as well as the thermal system and its dynamics, enables maximal optimisation potential in comparison to conventional methods and speeds up the design process.