The filter-based real-time energy management method has been proved practical and widely utilized in hybrid energy storage systems. However, the determination for the cutoff frequency of the energy-split filter is challenging. In this paper, an optimal filter-based energy management strategy is proposed for a battery/ultracapacitor electric vehicle to minimize the total energy consumption. A cost function of energy consumption for the cutoff frequency is established first. Considering the working condition of ultracapacitors, dynamic programming is adopted to obtain the optimal cutoff frequency series, i.e., the optimal energy distribution between batteries and ultracapacitors. Such an off-line optimization process is carried out under different driving cycles, e.g., urban and highway road conditions. Optimization results are used to determine the optimal cutoff frequency of a real-time filter-based energy management strategy. Simulation results indicate that the proposed strategy can minimize the total energy consumption of the hybrid energy storage system with ultracapacitors state of charge limitations being guaranteed. Compared with the existing real-time energy management strategies, the energy consumption is reduced 23.85% under aggressive acceleration conditions and 7.08% under urban conditions by the proposed strategy.