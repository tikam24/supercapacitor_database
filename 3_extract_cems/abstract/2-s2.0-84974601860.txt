We report a methodology to optimize vertically grown carbon nanotube (CNT) ultracapacitor (CNU) geometrical features such as CNT length, electrode-to-electrode separation, and CNT packing density. The electric field and electrolyte ionic motion within the CNU are critical in determining the device performance. Using a particle-based model (PBM) based on the molecular dynamics techniques we developed and reported previously, we compute the electric field in the device, keep track of the electrolyte ionic motion in the device volume, and evaluate the CNU electrical performance as a function of the aforementioned geometrical features. We show that the PBM predicts an optimal CNT density. Electrolyte ionic trapping occurs in the high CNT density regime, which limits the electrolyte ions from forming a double layer capacitance. In this regime, the CNU capacitance does not increase with the CNT packing density as expected, but dramatically decreases. Our results compare well with existing experimental data and the PBM methodology can be applied to an ultracapacitor built from any metallic electrode materials, as well as the vertical CNTs studied here.