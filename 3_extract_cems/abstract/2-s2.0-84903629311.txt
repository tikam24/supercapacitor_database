We demonstrate a rational template carbonization method to produce nitrogen-containing nanoporous carbons at 800 °C, using 1, 10-phenanthroline (or benzimidazole) as carbon/nitrogen source and magnesium citrate as template. The mass ratio of 1, 10-phenanthroline (or benzimidazole) and magnesium citrate has exerted the vital role in the determination of pore structures and the resulting electrochemical performances. It reveals that the carbon-P:Mg-1:1 (obtained by heating 1, 10-phenanthroline and magnesium citrate at 800 °C with the mass ratio of 1:1) and carbon-B:Mg-1:1 (obtained by heating benzimidazole and magnesium citrate at 800 °C with the mass ratio of 1:1) samples both are amorphous, nitrogen-containing, and highly nanoporous in nature. The carbon-P:Mg-1:1 sample has a large BET surface area of 1,657.4 m2 g-1 and high pore volume of 1.83 cm3 g -1, and those of carbon-B:Mg-1:1 sample are of 1,105.4 m2 g-1 and 1.67 cm3 g-1, respectively. Based on a three-electrode system using a 6-mol L-1 KOH aqueous solution as electrolyte, the carbon-P:Mg-1:1 and carbon-B:Mg-1:1 samples can deliver large specific capacitances of 289.0 and 255.6 F g-1 at a current density of 0.5 A g-1. They can also exhibit high energy densities of 40.1 and 35.5 Wh kg-1 when designated the power density as 0.25 kW kg -1 as well as highly long-term cycling durabilities. © 2014 Springer-Verlag Berlin Heidelberg.