New porous carbonaceous materials are anticipated in the energy storage and environmental application. In the present study, a new carbonaceous composite with hierarchically porous structure was prepared from Mg(OH)2 pre-filled PAN based membrane for the first time. The obtained carbonaceous composite contains 54.1% C, 26.8% O, 6.2% N and 5.6% Mg. Afterwards, the composite was tested as a supercapacitor and dye adsorbent. Its special capacitance reached 278 F/g at the scan rate of 0.5 A/g, and 186 F/g at the scan rate of 50 A/g, which outperforms most of supercapacitors obtained from the same precursor. A good cycling stability (98% in 5000 cycles) and a high power density (about 7000 W/kg) are achieved. As a dye adsorbent, the composite shows a high MO adsorption capacity of 1170 mg/g, much higher that of the active carbons. These results indicate an effective method to prepare new carbonaceous materials or to treat those disfunctional membranes.