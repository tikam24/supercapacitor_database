The energy storage system can sufficiently alleviate the shortage of new energy such as photovoltaic/wind that is greatly affected by the environment. Higher-capacity lithium-ion batteries and higher-power supercapacitors (SCs) are considered ideal energy storage systems for direct current (DC) microgrids, and their energy management is critical. In this paper, a new control strategy is proposed, which adds the feedback compensation of the bus voltage to ensure that the bus voltage can be maintained in a more appropriate range after the energy storage system suppresses the load fluctuation process, meanwhile, considering there are many lithium-ion battery packs in the energy storage system, based on the traditional droop control strategy, the droop coefficient is optimized, so that the battery pack with the higher state of charge (SOC) bears more power to achieve SOC balance with other battery packs. In this paper, the simulation verification is carried out on MATLAB/SIMULINK, the simulation results show that the optimized strategy can effectively suppress the DC bus voltage fluctuation and achieve the SOC of the battery pack balance.