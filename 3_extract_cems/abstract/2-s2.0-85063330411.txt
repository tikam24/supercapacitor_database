Nitrogen-doped carbons (NCs) are emerging as high-performance and inexpensive materials for electrochemical energy storage and conversion. The combined merits of carbon and nitrogen dopants allow NCs to possess the advantages of carbon as well as the unique functionalities of N moieties. Conventionally, NCs are produced by pyrolysis of nitrogen-rich organic precursors such as naturally abundant biopolymers. However, these NCs generally exhibit poor electrochemical performance due to their limited surface area and the loss of N moieties at elevated temperatures. In this work, we modified the widely practiced pyrolysis protocol by blending 20 vol % of ammonia gas into a nitrogen atmosphere at the early stage of pyrolysis. The carbonization of chitosan, a naturally abundant biopolymer, in the N2/NH3 (20 vol %) gas mixture led to N doped carbon aerogels (NCAs) with a roughened surface, an increased surface area, an augmented micropore volume, and a high content (up to 11.3%) of nitrogen-containing functionalities (pyrrolic-N, pyridinic-N, and graphitic-N). These features improve the performance of NCs as both binder-free supercapacitor electrodes and noble-metal-free oxygen reduction reaction catalysts. NCAs prepared by this method achieved an outstanding gravimetric capacitance approaching 400 F g-1 at 1 A g-1, and rate capability of 75.3% (from 1 to 100 A g-1). They are also potent oxygen reduction reaction catalysts. We anticipate that the strategy demonstrated herein can be extended to other biomasses to produce NCs with tailored surface area, pore volume, and contents of nitrogen functionalities for a spectrum of electrochemical applications including supercapacitors, rechargeable batteries, catalysts, and fuel cells.