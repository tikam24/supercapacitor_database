For safe disposal and environmentally benign recycling, lignocellulosic biomass wastes are increasingly studied for use as precursors for the preparation of value-added porous carbon materials. However, conventional chemical vapor deposition is time consuming and difficult to perform on a large scale. Herein, we obtained nitrogen-doped porous carbon materials (NPCMs) with high supercapacitor performance by one-pot copyrolysis of a carbon precursor (wheat straw), nitrogen precursor (melamine), and salt templating (mixed salt of KCl/ZnCl2 at 51:49). The NPCM with 7.78% nitrogen content exhibited an excellent gravimetric capacitance of 223.9 F g-1, which is mainly attributed to the increase in surface area by the activation of salt templating and the decrease in ion-transport resistance by N doping of the NPCM. The removal of silicon in pyrolysis products efficiently enhanced the capacitance of materials, but there was a negative effect on capacitance if the silicon was removed from feedstocks before pyrolysis. The post-removal of the silicon greatly increased the cycle stability of NPCMs and maintained 91.4% of capacitance after 10,000 CV tests. BET and XPS analyses indicate that the silicon can improve the pore structure and facilitate the formation of reactive nitrogen species (N-5 and N-6) by hard template and catalysis functions during pyrolysis, which is mainly responsible for the high performance of as-prepared NPCM. This study provides a facile method for synthesizing biomass-based NPCMs, especially to utilize biomass waste that contains high silicon content.