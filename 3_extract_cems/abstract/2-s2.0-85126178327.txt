Supercapacitors (SCs) have become an important option to supply virtual inertia to the grid. Since the price of SCs modules depends on the voltage rating, oversizing this value to achieve inverter requirements should be avoided. For this purpose, this study introduces a complete control strategy to supply virtual inertia to the grid from an SC-based Energy Storage System through a grid-forming isolated inverter. The proposed system is a two-stage configuration composed of a Dual Active Bridge to process the SCs stored energy, cascaded to a three-phase VSI. Control strategy achieves fast ac voltage regulation through a complex state-space controller, DC bus voltage regulation, and State of Charge control of the SCs. Power transfer between SCs and the grid is controlled with slower dynamics to impose frequency-power dependence on the AC side. A Synchronization Controller completes the strategy to ensure soft grid connection. Thus, the SCs based inverter can smooth the grid power demand in front of load variations in the point of common coupling (PCC) and provide virtual inertia to the grid. Moreover, the proposed system could be connected to the PCC of any pre-existing grid-following distributed generation such as PV facilities. The proposed strategy is validated by simulation of a 5kW system.