A series of N-doped carbons with hierarchically micro- and mesoporous structure were prepared by using silica nanoparticles as the template, ethylenediamine (EDA) and CCl4 as carbon and nitrogen sources, and potassium hydroxide (KOH) as the activation agent. The obtained carbons were characterized with N2 adsorption, transmission electronic microscope (TEM), X-ray photoelectron spectroscopy (XPS), elemental analysis as well as electrochemical methods. It was found that the nitrogen-doped carbon (NC) without being activated shows lower capacitive performance due to the low surface area (287 m2 g−1) while the carbon activated at 800 °C (NC800) shows the best capacitive performance and the capacitance can reach up to 417 F g−1 at a current density of 0.5 A g−1 due to the ultra-high surface area (3056 m2 g−1), large mesopores (∼3 nm) and the proper nitrogen content. The large surface area is beneficial to the double-layer capacitance while the nitrogen content attributes to the pseudocapacitance. The larger mesopores and micropores are in favor of the decrease of mass transfer resistance. After 5000 cycles at a current density of 3 A g−1, the capacitance of NC800 can still maintain 97.6% of original capacitance. The energy density can reach up to 11.2 Wh Kg−1 at the power density of 125.1 W kg−1.