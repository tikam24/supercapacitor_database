Electric double-layer supercapacitors are a fast-rising class of high-power energy storage devices based on porous electrodes immersed in a concentrated electrolyte or ionic liquid. As yet there is no microscopic theory to describe their surprisingly large capacitance per unit volume (volumetric capacitance) of -100 F/cm3, nor is there a good understanding of the fundamental limits on volumetric capacitance. In this paper we present a non-mean-field theory of the volumetric capacitance of a supercapacitor that captures the discrete nature of the ions and the exponential screening of their repulsive interaction by the electrode. We consider analytically and via Monte Carlo simulations the case of an electrode made from a good metal and show that in this case the volumetric capacitance can reach the record values. We also study how the capacitance is reduced when the electrode is an imperfect metal characterized by some finite screening radius. Finally, we argue that a carbon electrode, despite its relatively large linear screening radius, can be approximated as a perfect metal because of its strong nonlinear screening. In this way the experimentally measured capacitance values of -100 F/cm3 may be understood. Â© 2011 American Physical Society.