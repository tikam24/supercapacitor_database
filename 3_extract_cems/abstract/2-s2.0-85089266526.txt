The combined template of Mn(CH3COO)2, KCl, and CO(NH2)2 is a strategy for the structural control and functionalization of porous carbons. Waste peach gum is used to achieve the orderly design of N, O-codoped lamellar porous carbon (NLPC). The prepared carbon electrode obtains a mass specific capacitance of 402 F g-1 at an ampere density of 0.5 A g-1 in 6 M KOH, long cycle stability (99.5% mass specific capacitance retained after 10000 cycles), and rich surface heteroatoms (O is 9.53 at. %, N is 14.04 at. %). In addition, the prepared symmetrical supercapacitor (NLPC-700//NLPC-700) has excellent cycle life (99.1% specific capacitance). Therefore, this work proposes a design of integrating heteroatom doping and pore size engineering into carbon materials that can branch out to other fields such as energy storage and energy conversion.