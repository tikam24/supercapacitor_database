In this paper, the unique 3D N-doped graphite carbon-encapsulated Co/Co9S8 (CN-Co/Co9S8) was synthesized by thermal decomposition using Co-Co prussian blue analogue (PBA) as template and precursor in C3H6 atmosphere and hydrothermal method. CN-Co/Co9S8 is composed of secondary nanoparticles with core–shell structure, which have outstanding abundance of active sites and high porosity. Due to the virtue of stable core–shell structure, abundant defects and high theoretical specific capacitance, CN-Co/Co9S8 produced at 0.05 L min−1 C3H6 shows high specific capacitance of 334F/g at 1 A/g and excellent rate capability with 78 % capacitance retention (from 1 to 20 A/g). The maximum energy density of the asymmetric supercapacitor (ASC) is 38.3 Wh kg−1 at a power density of 800 W kg−1. In general, a novel and effective strategy to design and fabricate Co9S8 nanostructured electrodes with higher capacitance and rate capability was invented, expecting to be applied in the field of environmentally friendly and high-performance energy storage.