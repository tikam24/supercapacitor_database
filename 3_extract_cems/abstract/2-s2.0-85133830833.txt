In this paper, we present a dynamic simulator that uses a proton exchange membrane fuel cell (PEMFC). This source, is used as a primary source with a supercapacitor (SC) considered as a secondary source. This simulator integrates a PEMFC's dynamic model, validated on the Bahia bench and a semi-empirical model of SC. The developed model is implemented using the macroscopic energetic representation tool (EMR). The energy management system (EMS) is based on rule-based power management, where a low-pass filter splits the power among sources (PEMFC and SCs) using a cut-off frequency of 0.2Hz, and a controller block that regulates the bus voltage deduced by the EMR's inversion-based control approach.