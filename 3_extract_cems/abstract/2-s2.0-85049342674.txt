A self-standing porous carbon nanofiber (PCNF) matrix with controllable shallow hierarchical mesoporous structure on ∼40 nm of the top layer and microporous network in the fiber bulk has been prepared by electrospinning technology coupled with Mg(NO3)2 treatment in a one-step carbonization without further treatment. By regulating the heating rate during carbonization, PCNF with high specific surface area of 1836 m2 g−1 have been obtained. Symmetric supercapacitor assembled with PCNF as electrodes in 1 mol L−1 LiPF6 organic electrolyte has a specific capacity of 140 F g−1 and an energy density of 30 Wh kg−1 at current density of 0.1 A g−1. And the lithium-ion capacitor (LIC) device can deliver a large energy density of 106 Wh kg−1 (at 242 W kg−1), a high power density of 30 kW kg−1 (at 53 Wh kg−1) and reasonably good cycling stability with capacity retention of 91% after 2000 cycles. In addition, the self-standing PCNF with high energy density and high power density presented in this work is highly desirable to apply to other electrochemical energy storage devices.