To comprehensively solve the power quality problem of traction power supply system and improve the utilization rate of regenerative braking energy of electric locomotive, a novel energy storage type of railway power conditioner based on railway static power conditioner and super capacitor energy storage system is proposed in this paper. Improving the regenerative braking energy utilization of the topology and the control precision of the peak and valley filling can effectively control the charge and discharge of the super capacitor, thereby reducing system loss. Therefore, the power transfer characteristics between the super capacitor and the railway power regulator are studied in detail. By constructing the equivalent circuit diagrams of the two control modes, the control accuracy of these two control modes and the problem of the super capacitor discharge out of control are compared and analyzed. Finally, the simulation results have verified the correctness and effectiveness of the proposed coordinated control strategy.