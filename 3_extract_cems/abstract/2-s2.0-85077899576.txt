The micro-grid studied in this paper contains photovoltaic power generation, wind power generation and energy storage devices composed of super capacitors and storage batteries. Although this method of composite energy storage can effectively utilize new energy sources, the cost is relatively expensive. So, under the condition of normal load and overall normal operation, combined with power balance and other constraints, how to allocate capacity configuration can minimize the overall operating cost of the micro-grid, and improving the economics of micro-grid operation becomes a key issue. In this paper, for the micro-grid with island operation mode, using Matlab to build distributed power model and micro-grid model in micro-grid, aiming at the economical operation of micro-grid, using the basic particle swarm optimization algorithm to obtain the optimal solution, the grid is optimized for configuration and combined with an example for simulation analysis.