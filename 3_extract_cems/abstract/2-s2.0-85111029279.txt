In this work, a symmetric flexible supercapacitor is successfully fabricated using the electrode and electrolyte, which are both derived from source-abundant agar. Agar-based porous carbon electrode is synthesized by foaming and carbonization-activation processes using KHCO3 and HAc as activators. The unique foam-like gel precursor forms during the agar gelation process with simple metathetical reactions, which facilitates the generation of porous structure. Benefitting from the large specific surface area (2134 m2 g−1) and hierarchically porous conductive network, the as-prepared carbon electrode displays a high gravimetric capacitance of 313.7 F g−1 at 0.5 A g−1 and good rate performance in 6 M KOH. Moreover, agar-contained Na2SO4 hydrogel electrolyte is prepared by a simple solvent casting process, and the prepared hydrogel electrolyte shows a broadening electrochemical potential window of 1.8 V and excellent flexibility when used in supercapacitor. The symmetrical flexible aqueous-based supercapacitor that assembled via agar-based porous carbon electrode and agar-based gel electrolyte exhibits an ultrahigh energy density of 22.1 Wh kg−1 at 450 W kg−1. This work provides an effective strategy for preparing both the supercapacitor electrode and electrolyte using the same source, i.e. agar as the starting material, which uncovers a new possibility for the development of flexible capacitors with high energy density.