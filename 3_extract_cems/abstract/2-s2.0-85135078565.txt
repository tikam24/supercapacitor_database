Heteroatom-doped carbon materials derived from oil-bearing sludge exhibit excellent supercapacitor performance due to their unique electronic and chemical properties. However, the complex composition of heteroatoms in oil-bearing sludge makes it difficult to achieve sufficient and directional doping by direct pyrolysis. In this paper, an oleic acid pretreatment-roasting-secondary activation strategy was developed to make full use of hydrocarbons, iron-and nitrogen-containing compounds in oil-bearing sludge to prepare Fe-NX-C materials with excellent electrochemical properties. Characterization results such as transmission electron microscopy (TEM) and N2 adsorption analysis showed that the best sample had a hierarchical pore structure and uniform Fe and N element loading. X-ray photoelectron spectroscopy (XPS) analysis found that the addition of oleic acid can promote the formation of Fe-Nx, and the dosage of oleic acid will affect the content of Fe-Nx in the carbon materials. Electrochemical characterization of this supercapacitor material was conducted. The best sample's specific capacitance was as high as 293.6 F g-1 at the current density of 0.5 A g-1, and the capacitance retention rate could still reach 71.5% at the current density of 10 A g-1. The assembled button-type symmetrical supercapacitors had an energy density of 8.68 Wh kg-1 and a power density of 137.53 W kg-1, which is much higher than those of most other waste-based carbon materials. This work presents a new idea for the preparation of heteroatom doped carbon materials with excellent capacitive properties from oily sludge, which provides a new reference for the treatment and resource utilization of oily sludge.