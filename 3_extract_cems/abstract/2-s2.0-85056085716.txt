Polyaniline (PAni) is a promising high-capacitance material, but its poor cycle life, limited rate capability and low power density limit its practical applications as an electrode material for supercapacitors. PAni is commonly combined with graphene to enhance its performance, but few studies have tackled all the drawbacks of PAni. To address all the limitations of PAni, a novel flexible electrode has been developed by growing PAni nanowires on graphene-coated polyvinyl alcohol (PVA) nanofibers, followed by a second coating with graphene sheets as nanosized charge collectors. The chemical stability, wettability, light weight and large surface area of nanofibrous crosslinked PVA make it an ideal cushioning support for electrode materials. Shear-exfoliated graphene was employed as an inexpensive source of graphene to enhance the capacitive performance of PAni via rational engineering of a hierarchical nanostructure. A supercapacitor assembled from the flexible composite electrode demonstrated an enhanced rate capability and power density, as well as exceptional cycling performance. The cushioning PVA substrate, together with the first layer of graphene, contributed to maintaining the capacitive performance of the PAni-based supercapacitor over 88 000 charge-discharge cycles. In addition to its supercapacitor application, the PAni-coated PVA film exhibited a rapid shape memory effect on the basis of the expansion and contraction of PAni upon acid doping and base dedoping. PAni-coated PVA films were further employed for the rapid detection of ammonia, HCl and humidity. The simple strategy for constructing a flexible composite electrode, together with the shape memory and sensing properties, offers new potential for flexible supercapacitors, as well as chemomechanical actuation and sensing devices.