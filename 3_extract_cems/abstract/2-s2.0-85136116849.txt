To synchronously elevate the energy and power density of electrical double-layer capacitors, extensive attention has been focused on the pore engineering and heteroatom doping of carbon materials. In this work, we report a molten salt-confined methodology for constructing nitrogen-doped porous carbon with cost-effective coal tar pitch and urea as carbon and nitrogen sources, respectively. The prepared N-doped hierarchical porous carbon (NHPC) exhibits a high specific area of 3373 m2 g−1 with the pore size widely distributed in the range of 1–15 nm. N-doping contributes pseudocapacitance and hierarchical porous structure accelerates the ion transport with a high diffusion coefficient of 3.3 × 10−7 cm2 s−1, leading to the greatly improved energy and power density. Electrochemical measurements reveal that the optimized NHPC electrode demonstrates a high specific capacitance of 341 F g−1 at current density of 0.5 A g−1 in 6.0 mol L−1 KOH electrolyte, as well as an energy density of 13.3 Wh kg−1 at a power density of 50.1 W kg−1 for the assembled cell. Furthermore, by using organic TEABF4 electrolyte, the assembled NHPC-based cell shows a high energy density of 67.5 Wh kg−1 at a power density of 376.7 W kg−1. This study provides a green synthetic route to construct hierarchical porous carbon for high-performance supercapacitors in both aqueous and organic electrolytes.