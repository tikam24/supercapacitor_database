In this paper, a micro grid study including photovoltaic (PV) array, super capacitor (SC) and lithium (Li)/Ion battery connected to grid by three phase neutral point clamped inverter (NPC) is realized for both islanded and grid connected mode operation. In this system, PV energy is transferred to dc bus by using SEPIC converter based MPPT having PO algorithm. Also, each of Li/Ion battery and supercapacitors has bidirectional battery charger providing their charge and discharge. Besides, this bidirectional battery charger uses both current and voltage controllers for charging and discharging modes. Furthermore, there is also a supervisory controller providing the charge/discharge of battery and supercapacitor with respect to state of charge (SOC) of battery, supercapacitor and irradiation level of PV energy, availability of grid power. Moreover, this controller provides load shedding when there is no available power to supply for secondary loads. By using Matlab/Simulink, operation of the system is observed, with grid connected and island mode, under irradiation and ambient temperature change of the PV. Thanks to the simulation, PV power, battery and super capacitor power are presented. It is shown that the system presented here works properly and fast transients nearly few cycles are obtained between grid connected to islanded mode and vice versa. Also, THD of phase currents and voltages are obtained under the limit of standards.