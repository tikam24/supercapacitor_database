Maximum supercapacitive performance in different electrolytes is desirable in the design of advanced carbon materials but still challenged by the conflicting properties of electrolytes. Herein, a practical and scalable strategy to customize carbon materials for aqueous and non-aqueous electrolytes was proposed via structural rigging of lignin precursors. The resultant graphene-like hierarchical porous carbon sheets from low-molecular-weight lignin exhibit a high electrical conductivity of 17.8 S cm−1, a prominent capacitance of 245 F g−1 at 1 A g−1 and impressive chemical stability in the symmetric supercapacitor of ionic liquid electrolyte. The top-level energy density of 96.7 Wh kg−1 at a power density of 0.9 kW kg−1 and 48.5 Wh kg−1 at 20.5 kW kg−1 is also obtained. In contrast, the 3D oriented N/O co-doped porous carbon composed of high-molecular-weight lignin possesses high specific surface area (>2400 m2 g−1), regulated micropores and rich heteroatoms for remarkable specific capacitances of 402 F g−1 and 306 F g−1 at 1.0 A g−1 in three- and two-electrode configurations of aqueous electrolyte, respectively. The established formation mechanisms further extend the exploration of highly plastic lignin precursors for diverse energy storage systems.