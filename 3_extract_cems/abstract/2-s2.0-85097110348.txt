Supercapacitors (SCs) are promising for powering mobile devices, electric vehicles and smart power grids due to their fast charge/discharge rate, high power capability and robust cycle stability. Nitrogen-doped porous carbons are great alternatives because they provide pseudocapacitance without losing their power rate. Nanoporous carbon derived from metal organic frameworks (MOFs) is an ideal precursor for preparing heteroatom-doped carbons due to their abundant nitrogen contents and incredible specific surface areas. However, severe aggregations and the leakage of nitrogen can occur during harsh carbonization. In this study, we used CoAl-LDH (cobalt aluminum layered double hydroxide) as an in-situ growth substrate, allowing Co-based MOF to uniformly grow onto the CoAl-LDH to form a sandwiched MOF/LDH/MOF structure. After acid etching, we obtained waffle-like nanoporous carbons (WNPC). WNPC exhibited high nitrogen and oxygen retention (7.5 wt% and 9.1 wt%) and a broad mesopores distribution with specific surface areas of 594 m2g−1, which promoted a sieving effect. This renders a specific capacitance of 300.7 F·g−1 at 1 A·g−1 and the high retention (72%) of capacitance at 20 A·g−1, ensuring its use at high-rate supercapacitor electrodes. Finally, the WNPC symmetric supercapacitor reaches a superior specific energy of 27 W·h·kg−1 at a power of 500 W·kg−1, and a good cycle stability (85% capacitance retention after 10,000 cycles).