This paper describes modeling steps to enable fast evaluation of performance and cost effectiveness of a plug-in hybrid electric vehicle. The paper also shows how convex optimization can be used to dimension the vehicle powertrain while simultaneously controlling the energy buffer power. The method allows for optimal control of powertrain components that are subject to thermal constraints. The studied vehicle is a city bus driven along a perfectly known bus line. The bus is equipped with an engine-generator unit and an energy buffer consisting of an ultracapacitor and a battery. The engine generator unit and the energy buffer are modeled with quadratic power losses and are sized for two different charging scenarios. In the first scenario the bus can charge for a couple of seconds while standing still at bus stops, and in the second scenario the bus can charge for a couple of minutes before starting the route. In both scenarios, the ultracapacitor temperature is kept below a certain limit. Â© 2012 IEEE.