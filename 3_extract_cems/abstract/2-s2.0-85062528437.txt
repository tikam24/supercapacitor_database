Since the uncertainty of power generation of renewable energy is very obvious, the optimal design of capacity, with power balance as the primary task, is very important. Reasonable capacity design can improve system reliability and reduce economic costs. On the basis of establishing a stand-alone photovoltaic (PV) DC microgrid system, a mathematical model of each unit is established. The annualized cost, loss of power supply probability (LPSP), and excess electricity ratio (EER) are the optimization targets. The PV rated capacity, diesel generator rated capacity, battery capacity, supercapacitor capacity and PV tilt angle are optimized variables. The goal is establishing the system's optimal capacity design model in order to increase the system's renewable energy penetration ratio (REPR) as much as possible. First, sensitivity analysis is performed on each target to determine the intrinsic connection between them. This gives the ideal value for each target. The multi-objective problem is transformed into a single-objective problem by the weighted average method, and the optimal solution is obtained by a genetic algorithm. The integrity of the design results can be demonstrated by the power balance of the system and the capacity change trends of the energy storage components. This shows that the system can maintain power balance and provide correct guidance for stand-alone DC microgrid capacity design.