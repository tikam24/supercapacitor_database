We developed a simple approach to synthesize N-doped mesoporous carbon (NMC) material by using silica assistance. Hexamethylenetetramine is converted into formaldehyde and ammonia under hydrothermal conditions, which served as carbon and nitrogen source at the same time. Carbon precursor was formed by self-polymerization of formaldehyde in alkaline condition and nitrogen was in-situ introduced. Silica hydrolyzed from tetraethyl orthosilicate and carbon precursor form resin–silica composite first, which transformed into NMC after carbonization and removal of silica. As a result, the obtained NMC exhibited rich porous structure and specific surface area (569 m 2 g −1 ). As the electrode material, NMC exhibited a specific capacitance (192 F g −1 at the current density of 0.5 A g −1 ) and good cycling stability (92.9% even after 5000 cycles at 5 A g −1 ).