Fuel cell (FC) and ultracapacitor hybrid trams offer a sustainable and efficient transportation option, with the ability to store and use renewable energy for propulsion. However, their widespread adoption is limited by the availability of reliable and cost-effective refueling and recharging infrastructure. In this study, the use of mixed-integer linear programming (MILP) optimization for the energy management of photovoltaic (PV)-assisted refueling and recharging stations for fuel cell ultracapacitor hybrid trams is investigated. The electrolyzers and recharging units can either be supplied by the grid or by PV, depending on the availability of renewable energy. The study's main contribution is the consideration of the tram-station and internal tram transactions in a single optimization-based energy management structure and the all-in-one renewable energy assisted refueling and recharging station concept, which considers both the hydrogen and electricity supply requirements. The proposed structure was tested using the data of the Istanbul Kabataş-Bağcılar tram line, and the results showed a 46.48% reduction in operating cost and a significant decrease in carbon dioxide emissions and power drawn from the grid. The study provides valuable information for rail system operators and state authorities and opens up possibilities for future studies in the integration of hydrogen fuel cell vehicles into refueling stations.