In this paper, the novel 3D N/P-codoped hierarchically porous carbon framework in-situ armored Mn3O4 nanoparticles (NPCM/Mn3O4) prepared by one-step method are first reported. Carbon framework armoring Mn3O4 nanoparticles not only improves the conductivity and prevents the aggregation of nanoparticles, but also alleviates the huge volume expansion of Mn3O4 nanoparticles by the elastic property of carbon framework during the rapid charge and discharge process, thereby enhancing cycle life. Moreover, N/P-codoped 3D porous structure with high specific surface area provides a clear path, which can effectively reduce the charge transfer resistance and improve the charge storage for high rate capability. Because of these merits, NPCM/Mn3O4 exhibits a high specific capacitance (384 F g−1 at a current density of 0.5 A g−1) and excellent cycle stability (nearly no decay after 5000 cycles). The symmetrical supercapacitors show a large potential window (1.3 V in 6 M KOH electrolyte and 1.6 V in 1 M Na2SO4 electrolyte) with a maximum energy density of 16.5 Wh kg−1 at a power density of 207.4 W kg−1. In addition, the all-solid-state supercapacitors device has excellent electrochemical properties and the capacitance remains above 95% after 500 cycles under mechanical bending. These encouraging results lay the foundation for developing novel carbon-based metal oxide electrode materials for high rate energy conversion and storage devices.