In this paper, a comparison of three different hybrid powertrains is analysed. The numerical model is used to simulate powertrain behaviour in rail application, on a pre-set drive cycle, composed of many acceleration and decelerations, in order to test the components features. The numerical model is dynamic and it is implemented in Matlab-Simulink environmental. A proton exchange membrane fuel cell (FC) is used; it is the most used in transport applications, thanks to its lower temperature compared to the other fuel cell types, which allows fast start up operation and rapid demand changes. A standard supercapacitor (SC), given by higher power density, is utilized as the energy storage system (ESS), Regarding the battery (B), two types are considered, because the battery is used both as prime mover and main component of the ESS; Li-ion batteries are chosen, owing to their good trade-off between specific power and energy. Therefore, three configurations, FC-SC, FC-B and B-SC, are analysed. The vehicle model takes into account other components. The regenerative brake system is used to recover energy during the deceleration phases, and the auxiliary system is modelled in order to consider the consumption due to lighting, air conditioning, etc. The DC/DC converter is used to connect energy sources and load; it is unidirectional for the FC and bidirectional for the other sources. This is because the ESS provides power for the drive cycle and it stores energy provided by the FC (when the power demand is low) and recovered by the regenerative brake (in deceleration operation). In addition, a control system is implemented, able to manage the entire system and set the power output of each source at each instant of time. It works in order to achieve good performance for each energy source, in terms of high efficiency and long lifetime. This means low power variations for the FC and a pre-set interval for the ESS state of charge. At the end, the results achieved by the simulations (such as efficiency, state of charge, and hydrogen consumption) are discussed and analysed for the different configurations.