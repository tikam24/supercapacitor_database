Using coal tar pitch (CTP), a byproduct from coal tar distillation, as precursor, with the assistance of a common polymer (ammonium polyphosphate), we develop a one-step green synthesis route to prepare nitrogen and phosphorus co-doped porous graphene-like carbon (designated as N,P-PGC). The obtained products possess a high surface area and micropore attributing to the activation of the generated H3PO4. We have also demonstrated the potential applications of the resultant N,P-PGC as high-performance electrode material for supercapacitors. The materials possess a high capacitance of 219 F/g in 6 M KOH electrolyte at the current density of 0.5 A/g and excellent cycle stability with 95.6% capacitance retention after 10000 cycles, which can be attributed to the synergetic effect of (1) the electric double layer capacitance that came from the uniform porosities developed by in situ activation; and (2) pseudo-capacitance that originated from rich and tunable surface group by co-doping. Thus this work provides a low-cost and simple synthetic strategy to complete the transformation of byproduct to high value-added products.