This paper present a new architecture for a micro grid management system with batteries and ultra-capacitors (UC). The proposed architecture uses DC side cascaded PI for controlling individual hybrid energy storage system (HESS) components such as battery and UC for maintaining power balance and managing PV intermittency. The inverter control is independent of the DC side PI configuration and thus can provide easy integration to any vender specific inverters. The main advantage of the proposed architecture is that it provides independent controllability and decouples the AC side inverter thus improving flexibility. The proposed architecture is tested on a dynamic simulation platform which shows that the method can mitigate 90% of PV intermittencies.