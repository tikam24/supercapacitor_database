A micro grid is a network of electricity consumers with one or more local power sources that is usually attached to a main grid and can function independently. An Islanded micro grid usually consists of both renewable as well as conventional energy resources which operate independently from main grid. Even though renewable sources are ecofriendly their power generation is highly affected by changing weather conditions. Supplying electrical energy in response to demand variations is arduous. An islanded urban ac micro grid is considered where the total load is optimally shared among PV based active generators (AG), Micro gas turbines (MGT) and Diesel generator (DG). Objective is to have an optimal load sharing between MGTs and DGs. The optimization problem is treated as a unit commitment problem and its solution is figured out using dynamic programming based on day ahead PV production and demand forecast. Simulations are performed in MATLAB/SIMULINK. A single phase islanded urban microgrid is developed in hardware consisting of an active generator unit with its controller. Charge and discharge control of active generator unit with long term and short term storage devices (Battery and Supercapacitor) is achieved via bidirectional buck boost converters.