This work presents a controller design technique applied to a hybrid DC-DC power source of a type commonly found in diverse kind of energy systems. The system is composed of a main energy source and a supercapacitor as energy storage. The first step is to make the supercapacitor to work in a current control mode, then a passivity-based controller is designed to achieve voltage regulation of the capacitors. Passivity-based control involves solving partial differential equations. To ease this task, a physically meaningful, flatness- and energy-based change of state variables is performed. The performance of the closed loop is assessed means digital simulation.