In this paper, a method to fabricate structural N-doped hierarchical porous carbon is proposed. KOH and melamine are found to have synergistically impact on the pore-creating and nitrogen-doping process. The targeted product possesses specific surface area of 2642 m2 g−1 with a highly promoted inner surface area. The specific capacitance increases from 364 to 715 F g−1 at the current density of 1 A g−1 in a two-electrode system using 6 M KOH electrolyte. It also shows the good rate capability (526 F g−1 at 100 A g−1) and cycle performance (98.28% retention after 5000 cycles at 5 A g−1). The energy density reaches 118 W h kg−1 at the power density of 200 W kg−1. The high specific capacitance is mostly derived from the electrical double-layer capacitance, which is a significant advantage compared to the conventional surface doping. The nitrogen atoms stably embedded into the carbon skeleton. N-5 hindered the energy storage process, while N-Q showed obvious impact both on the specific capacitance and cycle performance. All in all, a high-performance electrode material for supercapacitor is provided in this study and it also provides a brand-new idea for the structural doping porous carbon.