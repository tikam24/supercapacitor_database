Highly flexible carbon foam with double-layer structure and hierarchical pores is synthesized based on Co-ZIF-L supported on carbonized melamine sponge (MS). Due to the special leaf-like structure of Co-ZIF-L, the uniform in-situ growth of ZIF-L onto carbonized MS makes the three-dimensional carbon wires dendriform-like, which after carbonization and KOH activation, sufficient micro- and mesopores are created resulting from Co-ZIF-L particles and gaps among them. Such hierarchical pore structure significantly improves the specific capacities (238 F/g at 1 A/g compared to that of 92 F/g for carbonized pristine MS). Moreover, due to the excellent mechanical properties inheriting from MS, the obtained sample can be used directly as a flexible electrode and remains high electrochemical performance under different bending states (the capacitance remains 99% and 96.1% respectively when bent at 90° and 180°). When using such foam as all-solid-state supercapacitors, it shows high specific capacity (149 F/g at 5 mV/s), high stability in high operation voltage window (0–1.8 V) and excellent flexibility, which makes such material a potential candidate for high-performance supercapacitors in modern portable and wearable devices.