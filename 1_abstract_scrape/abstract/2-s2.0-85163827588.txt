Supercapacitors (SCs) have been widely used owing to their merits of long cycle life, excellent physiochemical stability and zero-carbon emission. However, the low energy density of SCs restricts their further applications. Herein, the N, P doped carbon nanosheets (NPCNs) were prepared by using silicon-removed carbon as carbon resource derived from rice husk. The as-prepared NPCN not only possesses a large surface area of 1701.6 m2 g−1 and a high ratio of mesopore volume to total pore volume (62.11 %) for adsorption and transfer of electrolyte ions, but also has a suitable nitrogen and phosphorus content for electron conduction and contribution of additional active sites to generate pseudo-capacitance through redox. Therefore, the excellent electrochemical properties have been obtained for NPCN-based SCs in the alkaline electrolyte, e.g. satisfactory capacitance of 396.1 F g−1 at 0.1 A g−1, outstanding rate properties of 319.2 F g−1 at 40 A g−1, long cyclability with capacitance decay of 0.95 % after 30,000 cycles. Additionally, the energy density of the NPCN-based SCs with neutral electrolyte and ionic liquid electrolyte increased 2.67-fold and 11-fold to 33.25 and 137.24 Wh kg−1, respectively. This study opens up a feasible route by crafting heteroatoms and using high voltage window electrolyte to obtain the high energy density for SCs.