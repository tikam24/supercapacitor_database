At present, supercapacitor energy storage is widely used in urban rail transit. Supercapacitor energy storage is divided into stationary energy storage and on-board energy storage. Because there is no restriction of space and weight, stationary supercapacitor energy storage has developed rapidly in recent years. However, with the influence of no-load voltage, distance, braking power and other factors, stationary supercapacitor cannot fully absorb the residual regenerative braking energy in some special cases, it is necessary to configure a certain on-board supercapacitor to supplement it. Based on the existing stationary supercapacitor energy storage system, the article used a new on-board supercapacitor topology. The topology is series-connected to the traction inverter and consists of four IGBTs and one supercapacitor. The supercapacitor can be charged or discharged during traction and braking. The topology has no inductance and the volume is smaller than the traditional parallel topology. The topology utilizes inverter and motor overload capabilities to improve motor braking in high speed areas. Moreover, the losses of the DC side, inverter and motor are analyzed in detail. In the premise of meeting the capacity of storage, a control method which can minimize the total system loss is proposed based on the prediction of DC side current and motor side current. Finally, the simulation is carried out based on the actual parameters of Beijing Metro. Finally, based on the actual parameters of Beijing Subway, simulation is carried out. After using the series topology, on the one hand, with the ground storage equipment, braking resistance can be replaced completely to prevent train regeneration failure; on the other hand, after using the loss reduction algorithm, the traction system can reduce the loss of about 8%.