Today renewable energy sources have become an important contributor to the total energy consumed. Among all these sources solar energy has become more popular due to its silent operation and least required maintenance. But being intermittent in nature a photovoltaic (PV) array ceases to be reliable. The integration of two or more energy storage device along with the PV array can solve the problem. A hybrid energy storage system is thus implemented to make the whole system reliable and efficient. Here a battery and an ultra-capacitor are connected parallel to the main source to meet the load demand of a resistive load. If any extra power is generated by the PV array it is used for the charging of the battery and ultra-capacitor. When the power generated by the PV is insufficient for the load either battery or ultra-capacitor or both discharge to supply the load. All the three sources are attached to the dc link through buck boost converters. The mathematical modeling of these converters for the charging and discharging mode has been done in this paper. A robust control topology has been developed for the charging and discharging of the battery and ultra-capacitor. The scheme also helps in keeping the actual dc link voltage constant at required dc link voltage. The overall control topology of the proposed system is implemented in MATLAB Simulink and the simulation results for different cases by changing various parameters have also been included.