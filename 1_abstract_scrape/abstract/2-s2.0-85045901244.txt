This paper presents the small signal analysis and two loop control design of a DC microgrid with control strategy based on the output of DC link voltage controller. The employed control strategy generates current references to PV, grid, battery and supercapacitor converters based on the average of DC link voltage controller output. In this control strategy, a single DC link voltage controller maintains the DC link voltage in all operating modes. Thus, designing a DC link voltage controller which is stable in all operating modes is a crucial aspect of DC microgrid. The design and stability analysis of DC microgrid employing this control strategy is not discussed in literature. In this work, a detailed two loop control design of a DC microgrid employing this control strategy is presented. The DC link voltage controller is designed such that it is stable in all operating modes and the effect of low pass filter introduced to obtain the average value of DC link voltage controller output is considered. Simulation study with the designed control parameters is performed to verify the stability of the system in various operating modes. Results show the satisfactory transient and steady state performance of the DC microgrid in all operating modes with the designed control parameters.