Ports and container terminals play an important role in the global logistics system. Handling containers inside container terminals and rail terminals are mostly carried out by rubber tire gantry (RTG) cranes. These cranes have quite different power profile compared to hybrid vehicles. They have a broad power demand, varying from 10kW to 350kW, 170kW regenerating power, and a maximum of 30kW auxiliary power. The high peak demand due to the acceleration of hoist drivetrain determines the prime mover (diesel generator) capacity. This capacity is highly over-rated when comparing with crane's average power demand. Such power profiles having high peak power to average power ratio can be supplied through hybrid systems which can downsize the diesel generator, improve fuel efficiency, reduce CO2 emissions, and reduce maintenance cost. In this study, a hybrid energy source is presented for an RTG crane. The hybrid energy source comprises a Lithium-ion battery bank, supercapacitor (SC) bank connected to the DC-link through bi-directional DC/DC converters, and a downsized variable speed diesel generator (VSDG) connected to the DC-link through an active rectifier. The narrowband operation of the battery bank helps to increase the healthy life of the battery system reducing risk due to unhealthy conditions during faults and abnormal situations. In this paper, the sizing of a hybrid energy system controlled by a state machine controller is presented. Unlike traditional optimization-based sizing techniques, unique features of demand profile, operating environment, system redundancy, backup operation, readily available components, and specific features of state machine controller were highly considered which differentiate the method of sizing from others.