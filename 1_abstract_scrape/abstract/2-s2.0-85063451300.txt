Heteroatom-doped hierarchical porous carbons (HPCs) have unique physicochemical properties and are widely applied in energy storage devices. Conventionally, they are prepared by a two-step process including carbonization and activation of carbon precursors, which give rise to high energy consumption and tedious procedures. A facile and low-cost one-step method is developed to synthesise N,S co-doped graphene-enhanced hierarchical porous carbon foam (N,S-GHPCF) with highly enhanced porosity, large surface area, high conductivity and significant heteroatom content. This novel strategy not only enables the synchronous carbonization and activation via a one-step high-temperature annealing process, but also simultaneously dopes nitrogen and sulfur as well as graphene into the HPC to improve its electrochemical performance. The as-prepared N,S-HPCF has the highest SSA of 2806 m2 g−1, while the optimized N,S-GHPCF exhibits a high specific capacitance of 405 F g−1 at 1 A g−1, exceeding the values of previously reported HPCs, as well as superior rate performance (295 F g−1 at 100 A g−1) and cycling stability (98.8% of capacitance retention after 10 000 cycles). Furthermore, the assembled symmetric supercapacitor yields a remarkable energy density of 18.4 W h kg−1 at 300 W kg−1. The as-fabricated device can power an electric motor and 20 orange LEDs efficiently. This method has universal significance in preparing highly porous and heteroatom-doped carbons in large scale via a green and energy-efficient process for advanced energy storage and conversion industrial applications.