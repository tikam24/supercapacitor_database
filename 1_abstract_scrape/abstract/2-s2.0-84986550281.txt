Large scale production of three dimensional (3D) graphene materials with high density and low degree of defects stands for the main challenge hindering their practical applications. Herein, we report a universal and readily scalable strategy to produce an N-P-O co-doped free standing 3D graphene through a one-pot red phosphorus-assisted “cutting-thin” technique. The solid carbon precursor is gradually exfoliated through the slowly released gases (e.g. pH3, H2, CO2) and metallic K during the reaction, which allows the formation of dominant amount nanopores, and ensures the high density of the products. The as-produced graphene exhibits continuously 3D hierarchical porous (3D-HPG) structure with good quality (ID/IG=0.4, I2D/IG=0.65). Density functional theory (DFT) calculations indicate the N-P-O co-doping can significantly enhance the charge delocalization with benefited electrochemical activity. The 3D-HPG is directly utilized as the supercapacitor electrode and a metal free catalyst for oxygen reduction reaction (ORR), offering ultrahigh specific capacitance of 426 F g−1(424 F cm−3), as well as excellent catalytic performance. The assembled all-solid-state cell exhibits both high gravimetric (25.3 W h kg−1) and volumetric (25.2 W h L−1) energy density, which are among the highest values of the state-of-art carbon only supercapacitors. Remarkably, this “cutting-thin” strategy is applicable to variable carbon sources.