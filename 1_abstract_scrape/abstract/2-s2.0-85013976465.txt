A detailed understanding of confinement and desolvation of ions in electrically charged carbon nanopores is the key to enable advanced electrochemical energy storage and water treatment technologies. Here, we present the synergistic combination of experimental data from in situ small-angle X-ray scattering with Monte Carlo simulations of length-scale-dependent ion arrangement. In our approach, the simulations are based on the actual carbon nanopore structure and the global ion concentrations in the electrodes, both obtained from experiments. A combination of measured and simulated scattering data provides compelling evidence of partial desolvation of Cs+ and Cl- ions in water even in mixed micro-mesoporous carbons with average pore size well above 1 nm. A tight attachment of the aqueous solvation shell effectively prevents complete desolvation in carbons with subnanometre average pore size. The tendency of counter-ions to change their local environment towards high confinement with increasing voltage determines conclusively the performance of supercapacitor electrodes.