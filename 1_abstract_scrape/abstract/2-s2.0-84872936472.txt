The paper introduces a hierarchical structure for the finite time constrained optimal control of a system with a fuel cell and a supercapacitor storage unit. The supercapacitor storage unit is employed to improve life time, reduce hydrogen consumption of the fuel cell, increase peak power and allow for some regeneration from the load. The three control layers regulate the supercapacitor storage unit charge, the DC bus voltage level and the currents of the fuel cell and supercapacitor storage unit. They are all based on explicit linear offset-free model predictive control, where the optimal control law is computed off-line and stored in a look-up table. Â© 2012 IEEE.