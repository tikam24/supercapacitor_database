Energy conservation can greatly contribute to intelligent agricultural machinery, particularly vibration energy harvesting. In this study, a pendulum-flywheel vibration energy harvester was proposed for the agricultural machinery. The inertial oscillation was first generated under the vibration excitation of the pendulum-flywheel, and then the pinion was driven to rotate by the inner gear fixedly with the pendulum-flywheel, and finally, the rotor of the alternator was turned to generate the electricity under the drive of the pinion. A systematic investigation was conducted to optimize the energy harvester under the standard sinusoidal frequency sweep excitation, where the mass of the counter weight, the radius of pendulum-flywheel, and the various amplitudes of sinusoidal excitation were taken as the control variables, whereas, the peak output voltage was as the target. The experimental results show that the voltage induction performance of the energy harvester increased to reach the maximum near the natural frequency, as the time of sinusoidal excitation increased. The peak output voltage of the energy harvester was proportional to the mass of the counter weight when the radius of pendulum-flywheel was smaller (R=30 mm). However, such a relationship disappeared when the radius of pendulum-flywheel was larger (R=60 mm). The performance test of the energy harvester was excited by the real vibration spectrum of agricultural machinery. The harvester with a 10 g counter weight reached the peak voltage of 4.2 V under the on-site measured vibration of the agricultural machinery, indicating better performance than that without the counter weight. The output voltage was achieved at more than 1 V, indicating that the energy harvester can be used to charge standard energy storage devices, such as batteries and drive sensors through a DC-DC booster. Consequently, the power generation capacity was feasible under a random agricultural machinery spectrum, indicating the practicability of the energy harvester. The energy harvester can be used to supply a common sensor (a hygrometer with a load voltage of 1.5 V) after rectification, particularly for low-power electronic devices. The road test showed that the harvested energy was stored in super-capacitors or rechargeable batteries through energy management circuits, when vibration energy was sufficient, while the super-capacitors or batteries supply power to the load when the output power of the energy harvester was insufficient. When the circuit load (sensor or wireless transmission module) often needs a high instantaneous current, the super-capacitor can quickly discharge the circuit to meet the requirements of high instantaneous power for the wireless transmission of sensor data. Finally, the road tests were carried out to explore the energy harvesting performance of the energy harvester in different parts of agricultural machinery. Cab, storage bin and working part were selected to measure vibration signals. The test results were as follows: The vibration excitation intensity of different parts of the agricultural machinery varied from the cab, storage bin, and working part. The vibration frequencies of different parts were concentrated in the low-frequency range. The cab and working part presented the strong stable frequency excitation suitable for the installation of the energy harvester. Therefore, the installation position was preferred to the location near the working part, considering the convenient energy supply of the cab.