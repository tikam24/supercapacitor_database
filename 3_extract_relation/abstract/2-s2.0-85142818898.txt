Compared with traditional unmanned aerial vehicles(UAVs) powered by fuel, pure electric UAVs are more environmentally friendly, but due to the low energy density of lithium batteries, the UAVs have a short sailing time, which has also become a fatal disadvantage of UAVs. Fuel cells are considered to be an ideal power generation device to improve the endurance and cruising distance of UAVs due to their high specific energy, non-polluting, and high conversion efficiency. However, the flight tasks of UAVs are complex and changeable, and fuel cells need to use energy storage batteries as auxiliary power sources. This paper focuses on the energy management system (EMS) of the UAV hybrid power system based on fuel cells-lithium battery-supercapacitor. The EMS in the paper is divided into an upper decision-making layer and a lower control layer. The upper decision-making layer obtains the optimal power distribution scheme of each power source through the model predictive control (MPC) energy management strategy based on the equivalent consumption minimization strategy (ECMS) of hydrogen; The lower control layer obtains the power proportional relationship of each power supply from the decision-making layer and controls the output voltage and current of the relevant power supply modules to achieve stable operation of the whole system and reasonable power distribution.