This paper proposes a distributed rule-based power management strategy for dynamic power balancing and power smoothing in a photovoltaic (PV)/battery-supercapacitor hybrid energy storage system. The system contains a PV system, a battery-supercapacitor hybrid energy storage system (HESS), and a group of loads. Firstly, an active compensation technique is proposed which improves the efficiency of the power smoothing filter. Then, a distributed supervisory control technique is employed that prevents the BESS and SC from SOC violation while maintaining the balance between generation and load. To this end, the system components are divided into three different reactive agents including an HESS agent, a PV agent, and a load agent. These agents react to the system changes by switching their operational mode upon satisfying a predefined rule. To analyse the hybrid dynamical behaviour of the agents and design the supervisory controllers, the agents are modelled in hybrid automata frameworks. It is shown that the proposed distributed approach reduces the complexity of the supervisory control system and increases its scalability compared to its equivalent centralized method. Finally, the performance of the proposed approach is validated using a test system simulated in MATLAB/Simulink.