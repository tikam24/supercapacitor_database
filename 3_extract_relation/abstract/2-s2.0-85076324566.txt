In order to reasonably control the charging/discharging of the energy storage system and maximize the recovery of regenerative braking energy, this paper proposes a dynamic charging/discharging threshold strategy based on fuzzy logic control. The effects of train operation state, SOC and current of supercapacitors are considered comprehensively. And the effectiveness of the control strategy is validated by taking the Beijing Metro Batong Line as an example. The results show that the output energy of the rectifier unit decreases by 14% and the cumulative output energy of the supercapacitors increases by 23.7% after adding the fuzzy logic controller.