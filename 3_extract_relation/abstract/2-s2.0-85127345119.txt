Triple-doped (P, S and N) peanut-shell carbon (PSN-PSC) was fabricated by a flexible one-step strategy. The obtained carbon displayed large specific surface area and multiple porous structures, hence it was suitable in applying on supercapacitor as electrode materials. Steam explosion was performed to pretreat peanut shells for the purpose of preliminarily creating pore structure. Potassium phosphate was used as activating agent and supplied phosphorus atom. Thiourea was added as pore-generating agent, as well as nitrogen and sulfur sources. The extremely high specific surface area (2046 m2 g−1) and hierarchical porous structure of the PSN-PSC increased the accessibility of the carbon surface to the electrolyte, which shortened the ion diffusion pathway. Besides, the heteroatoms (P, S, N) doping improved the ability of energy storage and capacitive property. The synergistic effect of heteroatom doping and hierarchical structure endowed PSN-PSC with the highest specific capacitance of 334.7 F g−1 at 0.1 A g−1 and with remarkable cycle stability of 96 % retention for 10000 cycles in 6 m KOH electrolyte in a three-electrode system with a 3.0 mg cm−2 mass loading of PSN-PSC. Furthermore, the PSN-PSC symmetric supercapacitor reached an excellent energy density of 19.92 Wh kg−1 under 70 W kg−1 in a 6 m KOH electrolyte. This work demonstrates a novel, convenient method for fabricating heteroatom doped carbon electrode materials, especially based on pretreated biomass wastes.