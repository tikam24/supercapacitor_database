To enable large capacity and high rate capability of porous carbon electrodes for lithium-ion batteries (LIBs) and supercapacitors, the combination of doping active heteroatoms, tailoring pore architectures, and narrowing pore sizes is a powerful engineered strategy. However, such porous carbons with multiple synergistic effects are almost impossible to be achieved simultaneously by conventional synthesis methods in a few steps. Herein, two mechanistically coupled polymers of poly(2-thiophenemethanol) (PThM) and SiO2 in one step process were synchronically produced by twin-polymerization of a single-source hybrid monomer of tetrathenyloxysilane consisting of tetraethyl orthosilicate (TEOS) and ThM moieties. The resultant interpenetrated SiO2/PThM composites were then subjected to thermal annealing and subsequent etching, yielding a mesopore-dominant S-doped porous carbon (SPC-1) with large-micropores (1.3-2.0 nm), narrow pore distribution (1.3-4.1 nm, centered at 3.1 nm), rich S heteroatoms (>5%), and high specific surface area (792 m2/g). Remarkably, the symmetric supercapacitor based on SPC-1 delivers a specific capacitance of 420 F/g at 0.5 A/g and an energy density as high as 14.6 W h/kg at the power density of 125 W/kg. As an anode for LIBs, SPC-1 delivers large reversible capacity (571 mAh/g), high rate capability, and excellent cyclic stability (without capacity decay after 500 cycles). More importantly, SPC-1 shows better electrochemical performance compared to a large mesopore (6-30 nm)-dominant S-doped porous carbon (SPC-2) derived by simultaneous polymerization of TEOS and ThM. This work reports an unusual in situ templating approach capable of synergistically combining chemical doping and pore engineering of carbonaceous materials for high-performance supercapacitors and LIBs.