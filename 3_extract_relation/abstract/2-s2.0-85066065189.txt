It is a challenge to achieve the high power/energy densities of portable and flexible energy storage devices. Here, an advanced lithium-ion capacitor (LIC) and sodium-ion capacitor (SIC) were constructed using activated carbon cathodes and self-supported N/P dual-doped carbon nanofiber film (NP-CNF) anodes. The NP-CNF was fabricated through electrospinning assisted by preoxidization and carbonization. The dual-N source (melamine polyphosphate and PAN) and P source (melamine polyphosphate) doping enhanced the specific capacity of the NP-CNF by increasing its defects. Additionally, the N/P co-doping increased the interlayer distance of the NP-CNF to improve its rate performance. Moreover, the NP-CNF remained a stable self-supported structure. The N and P contents of the NP-CNF were optimized to be 12.8 atom % and 4.1 atom %, respectively. The optimal LIC displayed an energy density of 85.0 Wh kg-1, a power density of 20.0 kW kg-1 at 22.2 Wh kg-1, and a capacity retention of 80.7% after 10 000 cycles at 2.0 A g-1. The optimal SIC displayed an energy density of 95.6 Wh kg-1, a power density of 20.0 kW kg-1 at 10.6 Wh kg-1, and a capacity retention of 77.8% after 10 000 cycles at 2.0 A g-1.