How to modify carbon materials in a highly efficient manner is an important issue for the practical application. In this work, we demonstrate a hydrothermal approach for modifying nanoporous carbon using H2O2 and H2SO4 as oxygen/sulfur dopants, which can realize the purpose of achieving highly O/S doping. It reveals that hydrothermal temperature and dosage of H2SO4 exert crucial roles for determining the carbon structures and capacitive performances. The change of temperature affects the reaction process, changes the degree of oxidation of carbon by H2O2, and changes the number of oxygen-containing functional groups on carbon surface. Under constant temperature conditions, H2SO4, as a strong oxidizing acid, changes in its dosage will affect the oxidation strength of the system, while changing the number of oxygen-containing functional groups, increasing a certain amount of sulfur-containing functional groups. The specific capacitance of microporous carbon increases from 43 to 168 F g−1, nearly 3.5 times, at a scan rate of 100 mV s−1 in 6 M KOH aqueous electrolyte, under the action of oxygen-containing functional groups, and the cycle stability is also as high as 92%, which is higher than 90% of untreated nanoporous carbon. The energy density of the modified sample is 5.49 Wh kg−1 at the power density of 0.5 kW kg−1. In addition to improving the wettability of carbon materials, oxygen-containing functional groups also produce pseudocapacitance by redox reaction.