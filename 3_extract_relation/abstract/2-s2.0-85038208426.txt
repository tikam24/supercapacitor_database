Hierarchical carbon materials are highly attractive for energy storage and conversion. To improve their performances in electrocatalytic oxygen reduction and supercapacitors, the construction of 3D ordered macroporous frameworks built from ultrathin micro/mesoporous nitrogen-doped graphene-like walls is proposed to enrich accessible active sites and shorten the mass and electron transport paths. A surface-coating hardlating method is developed for this purpose. The synthesis involves packing silica nanospheres into an opal, designed surface coating with histidine, carbonizing and template removal. The strong adhesive binding between silica and histidine and cohesive interactions among histidine molecules direct the uniform coating and subsequent formation of ultrathin (∼2.8 nm) carbon layers. Various N-doped inverse opal carbons (N-IOCs) with ordered macropores, graphene-like walls, high surface areas up to ∼1365 m2 g-1, narrow micro/mesopores of 0.6-5.0 nm, and high N content up to ∼14.72 wt% are obtained. The optimized N-IOCs exhibit outstanding performances in the oxygen reduction reaction with extraordinary activities, up to 0.95 and 0.87 V for the onset and half-wave potentials, which are among the best for heteroatom-doped carbon materials reported thus far, and excellent methanol tolerance and stability, as well as showing high capacitances of up to 222 F g-1 and good rate capability and stability in supercapacitors. Control experiments reveal that the remarkable performance is ascribed to the ordered macropores for rapid mass transportation, the ultrathin carbon layers for fast electron transfer, and the high surface areas for hosting abundant active sites.