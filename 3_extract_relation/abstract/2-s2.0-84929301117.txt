Carbon-based materials are the most common and important supercapacitor electrode materials, and have been attracting much attention for researchers. Although much work has focused on increasing the gravimetric capacitance of carbon materials, it is highly needed to obtain high volumetric capacitance for real compact device application. Therefore, a finely tuned carbon material structure with both optimal gravimetric and volumetric capacitances has been becoming a considerable challenge. In this work, we synthesized free-standing boron and oxygen co-doped carbon nanofiber (BO-CNF) films for the first time. Both high gravimetric and volumetric capacitances (192.8Fg<sup>-1</sup> and 179.3Fcm<sup>-3</sup> at 1Ag<sup>-1</sup>) can be obtained by an optimized design with regulating the heteroatom content and packing density. Meanwhile, the BO-CNF film with a relatively high packing density exhibits an excellent rate capability (78.5% capacitance retention from 1 to 100Ag<sup>-1</sup>), which is due to the formation of continuous electrolyte ion diffusion network as well as good electrical conductivity. Such BO-CNF film provides an excellent platform for depositing polyaniline active materials and the boron dopant can be recycled to reduce the cost for the possibly scalable application.