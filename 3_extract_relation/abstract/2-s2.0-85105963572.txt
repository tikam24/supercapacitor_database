High-speed rail locomotive regenerative braking energy is fed back to the grid, which will cause system instability. To solve this problem and make full use of regenerative braking energy, this paper proposes to use an energy storage system to absorb regenerative braking energy and compare different energy storage schemes to make the cost lowest. And in this article, the choice of energy storage device is supercapacitors and batteries. Firstly, mathematical models of high-speed rail traction power supply system and energy storage system are established. Secondly, an economic optimal model for the high-speed railway traction power supply system is established to minimize the daily operating cost under the full life cycle. Finally, comparing the benefits of different energy storage schemes, it is found that the benefits are highest when supercapacitors are used, and the regenerative braking energy is partially absorbed. It can also be seen from the simulation results that the battery is not suitable as an energy storage device alone.