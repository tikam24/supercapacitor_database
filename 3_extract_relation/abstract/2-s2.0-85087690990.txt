Polyimides have been used as the precursor of carbon materials. Thermal rearrangement polymers with porous structure can be prepared by thermal treatment of hydroxyl-containing polyimides in the solid state. Herein, hydroxyl-containing polyimides with hierarchical microspheres were firstly prepared by solvothermal method. After thermal rearrangement at 450 °C and further carbonization, the hierarchical porous nitrogen-doped carbon microspheres were obtained, which showed good electrochemical characteristics. The effects of the concentration of polymer solution, thermal rearrangement time and final carbonization temperature on the structure and properties of final carbon materials were investigated. The hierarchical porous carbon materials were tested as an electrode for supercapacitors, and HPI-45–2-800 with high specific surface area of 877 m2 g−1 exhibited excellent electrochemical properties. The specific capacitance of HPI-45–2-800 was 211.3 F g−1 at the current density of 0.5 A g−1. When the current density was increased to 10 A g−1, the retention rate of specific capacitance was as high as 55%. After 10,000 cycles of charging and discharging, the specific capacitance of HPI-45–2-800 electrode was still retained 99.94% of the initial capacitance, showing excellent long-term charge–discharge cycling stability. The hierarchical porous nitrogen-doped carbon microspheres after thermal rearrangement are expected to be high performance electrode materials for supercapacitors.