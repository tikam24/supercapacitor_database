We investigate the effects of pore size and ion adsorption on the room-temperature ionic liquid capacitor with nanoporous electrodes, with a focus on optimizing the capacitance and energy storage. Using a recently developed modified BSK model accounting for both ion correlations and nonelectrostatic interactions, we find that ion crowding proximate to the electrode surface induced by the spontaneous charge separation due to strong ion correlations is responsible for the anomalous increase in the capacitance with decreasing pore sizes observed in experiments. Reducing the strength of ion correlations increases the capacitance and suppresses the anomalous size dependence. For a given pore size, the capacitance peak diverges when the ion correlation strength α reaches a critical value, αsc,L. The capacitance peak shifts to smaller pore size as α decreases because of rapid decrease of αsc,L with decreasing pore size. Asymmetric preferential ion adsorption is shown to lead to significantly enhanced energy storage close to the transition point for any pore sizes. For a given correlation strength, the energy storage is optimal at a pore size where α = αsc,L.