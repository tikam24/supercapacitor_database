Due to the large and rapid fluctuation of requested power, the coupling between renewable energy and tramway system can be affected by serious control problems. Therefore, the use of an energy storage system is required in order to store and optimally dispatch the energy. Supercapacitors (SC) are the well suitable technology for traction applications but are limited by the energy density. The use of 'hybrid' SC and battery storage systems permits to supply the peak power and recovery energy by braking with SC; instead the integration with renewable energy can be optimized with the batteries. The paper proposes an optimal design for the reduction of cost of battery storage systems integrated with photovoltaic power plants.