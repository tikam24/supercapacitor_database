Heteroatom-doped-carbon with high electrochemical performance is crucial for the development of advanced carbonaceous materials for energy use. However, achieving homogeneous doping while maintaining electrochemically active microstructure remains challenging. Herein, a feasible hydrothermal protocol to fabricate uniformly N-doped carbon spheres by in-situ treatment of glucose and melamine was shown. Melamine served as the soft template to introduce heteroatom dopants while releasing gases to enrich the porous structure. Profiting from the structural directing effect of melamine along with an effective fabrication route, the as-prepared material presented multiple electrochemically advantageous features including a high surface area, a hierarchical porous structure at different levels, abundant heteroatom doping, etc., and thus delivered high supercapacitance. This work provided an effective strategy for fabrication of carbonaceous scaffold for advanced heterostructured energy materials.