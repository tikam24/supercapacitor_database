Energy storage systems are needed in islanded photovoltaic microgrids to ensure the load requirements when there is insufficient solar irradiation. The low cost and the high energy density make the lead acid batteries ideal for many applications in microgrids, however the major issue is their poor service life. Battery-Supercapacitor hybrid energy storage system with an optimal energy flow management strategy are proposed in this paper. Due to their high power density, supercapacitors are used to respond to quick load fluctuations and reduce the stress on batteries. The photovoltaic generator, batteries and supercapacitors are connected to the DC bus through DC-DC converters controlled using the model predictive control. Depending on solar irradiation, batteries state of charge and supercapacitors state of charge, many operation modes are simulated and discussed showing the reliability of the proposed power management strategy.