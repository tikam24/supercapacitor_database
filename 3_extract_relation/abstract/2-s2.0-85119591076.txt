The performance of batteries and on-board chargers (such as the volume in the car, energy storage capacity and charging speed) needs to be improved, which has become one of the main factors restricting the development of electric vehicles. The development of Vehicles to Grid technology puts forward higher requirements for chargers. With the development of Vehicles to Grid (V2G) technology, more realizable functions put forward higher requirements for chargers. To solve the problem of charging system in electric vehicle, a charging-driving integrated topology was designed, which makes full use of two-stator motor and inverters to be transformed to a charging system. The supercapacitor and the battery are used to form the hybrid power system. In the driving mode, the startup and acceleration performance of the vehicle are improved. In the charging mode, the various functions of Vehicles to Grid technology can be satisfied, and the electrical isolation is realized. This topology not only improves the power, but also greatly reduces the charging/discharging times of the battery, and improves the overall performance of the system. The feasibility is verified by simulation.