This paper presents a new energy management algorithm based on filtering for battery-ultracapacitor electric vehicles. Compared to the passive filtering techniques, the developed strategy allows a best control of the ultracapacitor state of charge and achieves an optimization of the system electric losses. This is achieved by an online optimization of a cost function. Simulations validate the performances of the proposed method.