Wayside supercapacitor based energy storage system (ESS) for urban rail transit can reuse the braking energy and reduce energy consumption. Most ESSs switch over from charging to discharging states based on voltage of DC bus. But open circuit voltage of DC power supply in subway system always changes, which would influence the normal operation of ESS. This paper will show the output characteristic of substation and the basic structure of supercapacitor based ESS. At the same time, influences of substation output voltage fluctuation on ESS will be analyzed. And then, a control strategy for eliminating the influence will be come up with. Finally, this paper will present the experiment results of 200kW supercapacitor based ESS prototype field test in Beijing subway.