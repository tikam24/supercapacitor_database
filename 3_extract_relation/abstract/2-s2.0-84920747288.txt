Biomass-derived hydrochar (HC) was used as the precursor to synthesize porous and nitrogen-rich carbons for supercapacitor electrodes. Porous carbon (HC/KOH) activated by potassium hydroxide was used to prepare nitrogen-rich porous carbon (HC/KOH/N) by subsequent calcination in melamine. Similarly, HC/N/KOH was obtained from nitrogen-rich carbon (HC/N) calcined in melamine by subsequent KOH activation. It is found that KOH plays an important role on the creation of porous structures and selective production of active pyridinic and pyrrolic nitrogen species. HC/KOH samples with abundant pores are excellent as supercapacitor electrodes in basic medium, whereas HC/N/KOH samples enriched with nitrogen functionalities are especially applicable in acidic medium. Typically, HC/KOH and HC/N/KOH show the highest specific capacitance of 279 and 492 F g-1 at the current density of 0.1 A g-1 in KOH and H2SO4 electrolytes, respectively. Their specific energy density and power density are up to 8.1-12 Wh kg-1 and about 24 W kg-1 at 0.05 A g-1 in two-electrode cell. The excellent electrochemical properties of as-made carbons may be attributed to the high specific surface (1197 m2 g-1) for the former, and to the synergistic effect of combined accessible specific surface area (566 m2 g-1) and doped nitrogen (4.38 wt.%) for the latter. This research provides a new routine for the development of high-performance electrochemical supercapacitors with carbonaceous electrodes derived from biomass precursors.