In this work, a novel carbonization method using H2SO4 as dehydrating agent to prepare graphitized carbon material with O doping is firstly reported. Starch is used as the carbon source. After dehydration in H2SO4 at 100 °C for 6 h, an O-enriched carbon material (OSC) is prepared. It exhibits a specific capacitance of 354 F g−1 at the current density of 1 A g−1 in 1 M H2SO4 solution. After 20,000 cycles, the capacitance retention remains at 110.2 %. It is proved that appropriate amounts of doping O can provide a certain pseudocapacitance, and also improve the wettability of the material, which therefore improve the electrochemical performance of the carbon material. Further, a vapor deposition method using dicyandiamide is applied to grow N-doped carbon nanotubes on the smooth surface of the OSC, which form a three-dimensional conductive network structure on the surface and get a suitable porous structure with the specific surface area of 355 m2/g (NOSC). The specific capacitance of the NOSC is 759 F g−1 at the current density of 1 A g−1 in 1 M H2SO4 solution. After 10,000 cycles, the capacitance retention still remains at 95.8 %. The assembled all-solid symmetric supercapacitor based on the NOSC can be operated in a 0–1.8 V voltage window. The energy density is 41.12 Wh kg−1 with a power density of 449.95 W kg−1.