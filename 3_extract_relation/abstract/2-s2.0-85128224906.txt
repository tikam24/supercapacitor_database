This paper presents a simulation of the charging of lithium-ion batteries and super capacitors for electric vehicles (EV). The charging current of both devices is controlled by a hysteresis circuit to maintain a constant current in The hybrid battery charge is shown programmatically. MATLAB/Simulink. The modulus counter is used to control the pulse signal to the boost buck converter which is charged by the permanent magnet DC motor. This is like regenerative breaking to charge both energy storage devices. The simulation results show the energy storage efficiency shown by the charging time values from the MATLAB-Simulink program.