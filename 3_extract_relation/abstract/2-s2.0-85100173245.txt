Nitrogen and oxygen co-doped hierarchical porous carbons (NOPCs) is prepared by the pyrolysis of polyethylene glycol-200 (PEG) and triazine carbon forming agent (CFA) using MgO as template. The PEG/CFA/MgO mixtures were compacted to form a consolidate solids, which play a key role for the formation of NOPCs. The morphology, microstructure, phase structure, textural property, surface element composition and thermal stability properties of NOPCs were investigated. It was demonstrated that the NOPCs exhibit hierarchical porous structure, high specific surface area (the largest SBET of 1244 m2/g), and abundant mesopore structures without any activation. Benefiting from the unique porous structure and rich heteroatom functional group (1.34 at % N and 20.33 at % O), the NOPC-900 electrode shows a specific capacitance of up to 347 F/g at 0.5 A/g and can keep 187 F/g even at 50 A/g. Moreover, the NOPC-900 electrode shows good cycle life with capacitance retention of 90% after 10,000 cycles. This paper provides a new, convenient way to construct hierarchical porous carbon materials for super capacitors.