Rational design of electrodes from suitable materials is vital for developing supercapacitors. Herein, oxygen self-doped hierarchical porous carbons (OHPCs) are prepared by a two-step heat treatment using coal liquefaction residues (CLR) and potassium hydroxide (KOH) as raw material and activation agent, respectively. The oxygen-containing functional group undergoes a redox reaction during the energy storage process to increase the pseudocapacitance when OHPC is used as electrode material for supercapacitor. Density functional theory (DFT) calculations show that the doping oxygen species in carbon enhances the adsorption to the electrolyte and provides a fast electron transfer pathway. The OHPC-600 (obtained at 600ºC) presents high specific capacitance of 457 F g−1 at 0.5 A g−1, superior rate capability with capacitance of 261 F g−1 at 50 A g−1. The assembled symmetric supercapacitors also exhibit outstanding cycling life with 93% retention over 10000 cycles at 4 A g−1 Moreover, when the aqueous electrolyte is replaced by an organic electrolyte or ionic liquid, this device delivers a remarkable energy density of 35.2 Wh kg−1 and 46.5 Wh kg−1 at a power density of 10000 W kg−1, respectively. This study provides a reference for the prepare of novel carbon-based electrode materials and the effective exploitation of coal resources for energy storage.