Aiming at the power fluctuation caused by the change of illumination temperature, intensity and load of Photovoltaic(PV) DC microgrid system. A multi-scale decomposition method based on wavelet packet-fuzzy is proposed. According to the response speed and performance characteristics of different energy storage types, the energy storage devices adapted to their frequency range are selected to carry out fluctuation suppression, and the initial distribution of charge and discharge power of the mixed energy storage is completed. Considering the factors of supercapacitor's(SC) charge state and power fluctuation in practical application, fuzzy control is used to optimize the secondary charge and discharge power of hybrid energy storage. The simulation results show that the wavelet packet-fuzzy method can make full use of the advantages of different complementary performance of energy storage, effectively suppress the power fluctuation in the network, stabilize the charged state of energy storage, and ensure the stable long-term operation of energy storage.