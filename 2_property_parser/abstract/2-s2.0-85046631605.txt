Although hierarchical porous carbons (HPCs) are greatly emphasized in electrochemical energy storage, it is still difficult to develop a facile and cost-effective method for fabricating HPCs. Herein, we demonstrate a combination strategy to synthesize N-self-doped HPC from biomass (rice straw) on the basis of the following key consideration: well-dispersed intrinsic silica acts as an built-in biotemplate to form large numbers of mesopores, while chemical activation produces plenty of micropores. The as-prepared N-self-doped HPC has a reasonable mesopore ratio and high contents of O functionalities. This unique feature allows the fast transport of ions, highly accessible surface area, and additional pseudocapacitive behavior. As a result, the as-prepared HPC exhibits ultrahigh specific capacitance of 357 F g-1 (0.5 A g-1, 1 M H2SO4) for a three-electrode system and of 260 F g-1 (1 A g-1, 1 M Na2SO4) for a two-electrode system, excellent capacitance retention, and excellent cycling stability, superior to most of biomass-derived carbons. Moreover, the energy density of HPC is high up to 29.3 W h kg-1 at a power density of 900 W kg-1. In addition, the HPC exhibits high CO2 capture capacities of 6.57 mmol g-1 at 0 °C and 4.13 mmol g-1 at 25 °C.