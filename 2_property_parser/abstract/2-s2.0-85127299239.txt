With the development and utilization of new energy and the development of energy storage technology, a new type of power quality compensation device combined with energy storage technology has become a new research direction. This paper proposes a new type of energy storage STATCOM, a three-phase H-bridge inverter circuit topology with a two-way DC/DC conversion circuit in series with a super capacitor energy storage module on the DC side. In the MATLAB/Simulink environment, a system simulation model of the energy storage STATCOM based on S-Function was built. The most critical control algorithm was implemented by the S-Function module based on C language programming. Finally, a simulation study of the entire system is carried out. The simulation results show that the system can maintain the stability of the DC bus voltage and has a good reactive power compensation effect, which verifies the effectiveness of the control algorithm implemented by the S-Function module.