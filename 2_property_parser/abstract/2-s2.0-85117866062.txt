Pulsed power loads (PPLs) consume a huge amount of energy within a short time. An energy storage system (ESS) is usually installed in a shipboard power system (SPS) for PPL accommodation. Online accommodation strategies, where the PPL is connected to the SPS through the ESS all the time, have great advantages in reducing the hardware cost and increasing the PPL deployment frequency. But there is a lack of online accommodation solutions to deal with the operational requirements. This article presents a barrier-Lyapunov-function-based optimal control solution for online PPL accommodation in dc SPSs. By introducing the state-constrained technique, the operational constraints on the supply current for PPL accommodation and the bus voltage are all respected. Three control objectives, including safe and fast ESS charging, high-quality regulation of the dc bus voltage, and generation cost dynamic minimization, are realized simultaneously. The stability and optimality of the control solution are guaranteed rigorously via the Lyapunov synthesis. Simulations based on a switch-level SPS model demonstrate the effectiveness of the proposed control solution.