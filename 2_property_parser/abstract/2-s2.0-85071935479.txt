For the hybrid tram power system that consists of two sets of high-power fuel cells, supercapacitors and power batteries, an energy management strategy based on state machine is proposed to meet the requirements of operating conditions. First of all, the state machine is adopted as the basic architecture, and the operating state of the tram is divided into four states: traction, coasting, braking and fault. Then the energy management strategies that correspond to four states are studied. The voltage equalization algorithm based on the adaptive discharge coefficient is used in the traction state; and in the coasting state, the improved maximum efficiency point tracking algorithm is used. Then, according to the four operating states, the actual operation of the tram is carried out. Finally, the power consumption and the fuel cell system efficiency between the state-machine based control strategy and power tracking strategy is compared. The results show that the voltage equalization algorithm enables two sets of supercapacitors to be uniformly discharged in the traction state, which avoids the overuse of a single set of supercapacitors. The improved maximum efficiency point tracking algorithm increase the average efficiency of the fuel cell by 3.91%. In addition, the stack efficiency of the state-machine based control strategy and the power tracking strategy is 61.89% and 57.98%, respectively, and the former saves 3.2% of hydrogen.