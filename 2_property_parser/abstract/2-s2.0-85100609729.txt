Increasing the energy efficiency of electric rail vehicles is an important measure to expand this means of transport. The introduction of energy storage systems in electric rail vehicles for the storage and subsequent reuse of regenerative braking energy is one of the methods for increasing energy efficiency. Supercapacitor modules are used in energy storage systems due to their high power density and long service life. Due to their use in high-performance applications, the temperature of the supercapacitors must be monitored and controlled to prevent permanent damage to the supercapacitors. In this paper an algorithm for charging supercapacitor modules is proposed which takes into account their temperature to regulate the maximum charge current. The proposed algorithm uses the temperature of the supercapacitors as input variable and regulates the maximum charge current. The temperature is calculated from the electro-thermal model of the supercapacitor module, also taking into account the temperature-related ESR fluctuations of the supercapacitors. The power dissipation in the electrical part of the model is used as an input variable for the thermal part of the model, which outputs the temperature of the supercapacitor module. The temperature is then used as a variable to calculate the maximum charge current in the algorithm, resulting in increased energy efficiency.