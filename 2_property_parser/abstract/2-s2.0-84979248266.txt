The differential capacitance of electric double-layer capacitors is studied by developing a generalized model of the self-consistent Gaussian field theory. This model includes many-body effects of particles near the interface such as ionic sizes, the order of water alignment and electrostatic correlations, and thus can present more accurate predictions of the electric double-layer structure and hence the capacitance than traditional continuum theories. Analytical simplification of the model and efficient numerical method are introduced, in particular, the approximation of the self-Green's function which describes the self energy of a mobile ion. We show that, when the applied voltage on interfaces is small the dielectric effect of the electrode materials plays an important role. For large voltage, this effect is screened, but the dielectric saturation due to the alignment of the nearby water is shown to be essential. For 2:1 electrolytes, abnormal enhancement on the capacitance due to the dielectric electrode is observed, which is due to the interplay of the image charge effect and Born solvation energy in the self energy of ions.