The optimal operation of a rail vehicle with on-board energy storage device minimizing energy consumption in catenary free mode is discussed in this paper. The Electric Double Layer Capacitor (EDLC) is assumed as an energy storage device because of its high power density, long lifetime and quick charge/discharge. The proposed method can determine the optimal acceleration/deceleration at each sampling point under fixed running time between stations taking state of charge of the EDLC into account. The model can be used for planning train schedule and evaluation of energy consumption. Using the methods, simulations for a LRV were implemented in some cases. From the first simulation, the relation between running time and energy consumption and impact of running time on the optimal acceleration/ deceleration are derived numerically. From the second simulation, optimal distribution of running time through two sections without quick charging is clarified. The trend of optimal solutions such as values of control inputs and energy consumption is finally discussed qualitatively.