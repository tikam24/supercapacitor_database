It is very challenging for carbon materials to gain high volumetric capacitance (Cv) without sacrificing gravimetric capacitance (Cg) as well as high rate and cycling performances to meet requirements for supercapacitors with limited space. Here, B/P/N/O co-doped hierarchical porous carbon nanofiber self-standing film was fabricated by a facile electrospinning and one-step carbonization/activation method using polyacrylonitrile solution containing boric acid and phosphoric acid. The optimized BPNOCNF-45 has high content (24.65 at.%) of heteroatoms, especially the highest content (12.93 at.%) of active heteroatom species (N-5, N-6, B–C, O–I, P2 and P3), high bulk density (1.19 g cm−3), high meso-/macropore ratio (70%), low charge transfer and ion diffusion resistance. These contribute to its prominent Cv (395 F cm−3 at 1 A g−1) while maintaining high Cg (332 F g−1) and excellent rate performance in KOH electrolyte. By comparison, the assembled symmetric supercapacitor in Na2SO4 electrolyte delivers remarkably higher volumetric/gravimetric energy densities (21.1 Wh L−1 at 523.5 W L−1, 17.7 Wh kg−1 at 439.9 W kg−1) and capacitance retention of 90% after 10000 cycles. Furthermore, the assembled flexible supercapacitor also shows excellent capacitance performances. Such a densely co-doped porous carbon nanofiber film has great potential for applications in compact and miniaturized supercapacitors.