A simple and effective template-free method to prepare hierarchical porous carbons (HPCs) has been developed by using low-cost coal-tar pitch as a starting material, anhydrous aluminum chloride as the Friedel-Crafts catalyst, and oxalyl chloride as the cross-linking agent. By a simple controllable Friedel-Crafts reaction, diketone-functionalized coal-tar pitch as the hierarchical porous coal-tar pitch precursor was obtained via a one-step carbonization to provide a well-developed micro-mesoporous network. Nitrogen adsorption and desorption measurements showed that the surface area, pore volume, pore size and pore size distributions of the resulting carbon materials was dependent on the usage of the cross-linking agent. The as-fabricated HPCs have a large Brunauer-Emmett-Teller specific surface area of 1394.6 m2 g-1 and exhibit an excellent electrochemical performance with the highest specific capacitance of 317 F g-1 at a current density of 1 A g-1 in a three-electrode system. A symmetric supercapacitor was fabricated from HPC-DK-1.0 in a two-electrode system, which exhibits a high specific capacitance of 276 F g-1 at a current density of 0.25 A g-1, a high rate capability and an excellent cycling stability with a capacitance retention of 92.9% after 10 000 cycles. The one-step carbonization method that produced HPCs for electrical double-layer capacitors represents a new approach for high-performance energy storage.