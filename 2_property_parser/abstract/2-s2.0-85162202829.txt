Porous carbon is one of the most promising electrode materials for energy conversion and storage devices due to its high specific surface area, low cost, sustainability, appropriate charging/discharging voltage platform and high interlayer spacing. However, the disadvantage of insufficient energy storage capacity frustrates its wide applications. Herein, a novel N, P co-doped porous carbon derived from sugarcane bagasse (SBNPk) was prepared by hydrothermal method combined with KOH activation and carbonization, and was applied to supercapacitors (SCs) and sodium-ion batteries (SIBs). The SBNPK possesses a special hierarchical porous structure, improved surface area, larger interlayer spacing, and moderate N, P doping level. Specifically, the SBNPk carbonization at 600 °C (SBNPk-600) exhibits the highest specific capacitance (356.4 F g−1 at 1 A g−1), good rate capability and excellent cycle stability (5% loss over 10,000 cycles) in a three-electrode system. Further assembled in a symmetrical two-electrode system, the SBNPK-600//SBNPK-600 can still provide a higher energy density of 6.5 Wh kg−1 at 251.9 W kg−1 and superior cycle performance (96.5% of capacitance retention at 2 A g−1 after 20,000 cycles). Surprisingly, the SBNPK-600 as an anode for SIBs also delivers a high reversible capacity of 304.1 mAh g−1 at 25 mA g−1 and excellent cycle performance (225.7 mAh g−1 after 1000 cycles at 500 mA g−1), indicating its superior sodium storage capability. This work provides a simple and new way to enhance the electrochemical performance of biomass waste-derived carbon by heteroatom doping, which is helpful to further boost its application in the field of energy storage.