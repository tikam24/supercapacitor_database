Improving the energy density of carbon-based supercapacitors is one of the most urgent demands for developing high-power energy supplies, which in general requires delicate engineering of the carbon composition and textures. By pre-functionalization of graphene nanosheets and successive one-step (NH4)3PO4 activation, we prepared a type of nitrogen and phosphorus co-doped graphene (NPG) with high specific surface areas, hierarchical pore structures as well as tunable N and P contents. The as-obtained NPG shows high specific capacitances of 219 F g−1 (123 F cm−3) at 0.25 A g−1 and 175 F g−1 (98 F cm−3) at 10 A g−1, respectively. Accordingly, the NPG-based symmetrical supercapacitor device, working at a potential window of 1.3 V, could deliver an enhanced energy density of 8.2 Wh kg−1 (4.6 Wh L−1) at a power density of 162 W kg−1 (91 W L−1), which still retains 6.7 Wh kg−1 at 6.5 kW kg−1. In particular, under a current density of 5 A g−1, the device endows an 86% capacitance retention of initial after 20,000 cycles, displaying superior cycle stability. Our results imply the feasibility of NPG as a promising candidate for high-performance supercapacitors.