This paper proposes a hybrid control method based on model predictive control (MPC) and iterative learning control (ILC) for the hybrid energy storage system (HESS) in the application of islanded microgrid with photovoltaic (PV) generation. The hybrid method helps to deal with the sudden change in generation and load power demands. MPC aims to regulate the current of the battery and the supercapacitor (SC) to track the dynamic current references. An improved quadratic programming algorithm is proposed to reduce the iterations in online optimization. To compensate for the steady-state error caused by the power loss in the power electronic devices, a controller based on ILC is designed to correct the dynamic current references of HESS. Simulation results are used to verify the proposed algorithm. Validations using hardware experimental results substantiate the improved performance of the proposed control method in terms of reduced voltage regulations.