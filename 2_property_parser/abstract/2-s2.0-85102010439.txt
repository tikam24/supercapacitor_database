This work proposes a new control framework for power converters with a dual half bridge (DHB) configuration. The new framework exploits the multi-port structure of the DHB to simultaneously: i) regulate the current in the primary side of the DHB and ii) equalize the voltage in the two secondary ports of the DHB. To implement these functions, we combine input-output linearization methods with pragmatic voltage balance algorithms. We then apply this framework to a hybrid energy storage system composed of a battery pack and two supercapacitor modules. Numerical simulation results demonstrate the effectiveness of the proposed approach in regulating the power between the energy storage units and balancing the supercapacitors' voltages.