The paper presents a preliminary technical-economic comparison between a 3 kV DC railway and the use of trains with on-board storage systems. Numerical simulations have been carried out on a real railway line, which presents an electrified section at 3 kV DC and a non-electrified section, currently covered by diesel-powered trains. Different types of ESS have been analyzed, implementing the models in Matlab/Simulink environment. A preparatory economic investigation has been carried out.