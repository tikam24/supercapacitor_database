Alkali metal ion beyond lithium based energy storage systems have recently attracted increasing attention due to their unique advantages of high natural abundance and low cost. Herein, we report the fabrication of P,N-codoped carbon mesoporous nanotubes (denoted as PNC-MeNTs) through a facile two-step strategy with MnO2 nanowires as a dual-function sacrificing template, where the in situ oxidative polymerization formation of pyrrole-aniline-phytic acid composite nanotubes and a subsequent carbonization treatment are involved. The PNC-MeNTs exhibit outstanding electrochemical performance for both Na+ and K+ storage, respectively, where high specific capacities of 287.2 mA h g-1 and 219.6 mA h g-1 at 0.1 A g-1 and remarkable cycling stability over 10 000 cycles at 10 A g-1 and 3000 cycles at 1 A g-1 can be achieved. More importantly, potassium-ion hybrid capacitors with a PNC-MeNT anode and an activated carbon cathode can deliver remarkable energy/power density of 175.1 W h kg-1/160.6 W kg-1, as well as a long cycling life. The possible origins and storage mechanisms are investigated with combined characterization methods including in situ Raman spectroscopy and a galvanostatic intermittent titration technique. This study may introduce a new avenue for designing carbonaceous electrode candidates for future high-performance energy storage devices. This journal is