In this study, a polymer-containing aminal and imine (C=N) linkages was synthesized from the reaction between p-phthalaldehyde and 2,6-diaminepyridine through nucleophilic addition. Subsequently, nitrogen-doped carbon nanospheres (N-CNSs) were fabricated by a process of sequential potassium hydroxide (KOH) activation and direct carbonization of the polymer. Interestingly, the mass ratio (x) of the polymer to KOH was found to play a crucial role in dictating the porosity, surface chemistry, and capacitive performance of the resulting CNSs. The optimization of x led to the formation of N-CNS-2 with a significantly larger specific surface area (809 m2 g−1, 98 % microporous content) and a high specific capacitance (732 F g−1) at 8 A g−1 in 6 M KOH aqueous electrolyte. In addition, the electrode fabricated with N-CNS-2 showed excellent cycling stability along with 98 % of the initial specific capacitance after 5000 charge/discharge cycles. The carbon precursor with the aminal linkage network has shown very promising potential in energy storage materials.