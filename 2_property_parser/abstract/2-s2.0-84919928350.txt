The problem of designing and simulating optimal communication protocols for energy harvesting wireless networks has recently received considerable attention, thus requiring an accurate modeling of the energy harvesting process and a consequent redesign of the simulation framework to include this. While the current ns-3 energy framework allows the definition of new energy sources that incorporate the contribution of an energy harvester, integrating an energy harvester component into an existing energy source is not straightforward using the existing energy framework. In this paper, we propose an extension of the ns-3.20 energy framework in order to explicitly introduce the concept of an energy harvester. Starting from the definition of a general energy harvester, we provide the implementation of two simple models for the energy harvester. In addition, we introduce the concept of an energy predictor, that gathers information from the energy source and harvester and uses this information to predict the amount of energy that will be available in the future. Finally, we extend the current energy framework to include a model for a supercapacitor energy source and a device energy model for the energy consumption of a sensor. Example simulation results show the benefit of our contributions to the ns-3 energy framework.