Fabricating functional porous carbon materials for supercapacitors (SC) without using alkali/acid activation is a big challenge. Here, we present a green mechanochemistry coupled with MgCO3 one-step activation to transform low-rank coal into high-quality porous carbon materials. Under the action of ball milling, the high-energy CO2 sputtering effect from MgCO3 leads to an instantaneous explosion inside the precursor. In the activation stage, the structure of the precursor becomes loose and a large number of fresh active sites is created, which increases the defects and forms a pore structure to couple heteroatoms. Meanwhile, the generated MgO nanocrystals can be used as a template for subsequent activation. The experimental results and density functional theory calculation indicate that the obtained coal-based hierarchical porous carbon (CHPC) has a large specific surface area (SSSA), abundant micro-mesopores, optimized pore size distribution, high graphitization, O/N doping and high adsorption energy (Ead), possessing superior electrochemical performance for SC. Optimized CHPC possesses a high specific capacitance (C) of 328 F g−1 at 0.5 A g−1. CHPC symmetric SC achieves an energy density of 10.17 Wh kg−1 at 125 W kg−1 and 7.5 Wh kg−1 under 5000 W kg−1. This work provides an easy and inexpensive approach for SC development.