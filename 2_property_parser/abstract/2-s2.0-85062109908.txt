Hybridization of rolling stock vehicles with onboard energy storage systems in AC and DC electrification system is a realistic future trend that will transform the railway industry. In this emerging market even nowadays there are challenges related to the optimization of the storage system and its design, with the goal of minimizing TCO and fulfilling current international standards to ensure reliable and safe operation. In this context, this paper introduces a methodology with the aim at overcoming both issues. The proposed methodology and customization analysis are applied on a real case study of the tram of Birmingham that validates the procedure.