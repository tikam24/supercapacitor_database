Proper modulation of the compositions and porosities of carbon materials is crucial for capacitive energy storage and gas adsorption of carbon materials. Herein, porous N-doped carbon was synthesized from formamide by using a sequential hydrothermal treatment followed by pyrolysis with KOH. The activation with KOH resulted in a high increase in the porosity of the carbon and in the performance. A high porosity of >3000 m2g-1was achieved with a low KOH/C ratio of only 2. The presence of nitrogen introduces pseudocapacitance and also enhances the electron density in the carbon framework. The obtained N-doped porous carbon exhibits a good specific capacitance value of 307 F g-1at 1 A g-1in 6 M KOH. Also, the fabricated symmetric supercapacitor displays excellent performance in both alkaline and neutral media. It shows a stable cycling performance (91.4% retention after 10 000 cycles), a reasonable rate performance, and a maximum energy density of 14.36 Wh kg-1at a power density of 351 W kg-1in 1 M Na2SO4. The prepared material shows good gas adsorption behavior, and as a H2adsorbent at 77 K, it shows a good uptake value of 2.86 wt % at 1 bar pressure. It also shows maximum CO2uptake values of 4.88 and 2.88 mmol g-1at 1 bar pressure under temperatures of 0 and 25 °C, respectively, with a high CO2/N2selectivity of 14.54. The compound also shows a methane uptake capacity of 1.67 mmol g-1at 0 °C and 1 bar pressure with a CO2/CH4selectivity of 3.8. Our research provides a promising material for both energy storage and gas storage through a green synthetic strategy.